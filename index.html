<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Investor Lens â€” íˆ¬ììë³„ ì¢…ëª©/ETF ë¶„ì„</title>
  <meta name="description" content="ì›Œë Œ ë²„í•, í”¼í„° ë¦°ì¹˜, ì°°ë¦¬ ë©ê±° ë“± íˆ¬ì ê±°ë¬¼ì˜ ê´€ì ìœ¼ë¡œ ì¢…ëª©/ETFë¥¼ ë¹„êµ ë¶„ì„í•˜ëŠ” ê°œì¸ ìœ„í‚¤" />

  <!-- Open Graph -->
  <meta property="og:title" content="Investor Lens â€” íˆ¬ììë³„ ì¢…ëª©/ETF ë¶„ì„" />
  <meta property="og:description" content="ê°™ì€ ì¢…ëª©ì„ 5ëª…ì˜ íˆ¬ìì ë Œì¦ˆë¡œ ë¹„êµí•´ë³´ì„¸ìš”" />
  <meta property="og:type" content="website" />
  <!-- og:imageëŠ” ë‚˜ì¤‘ì— ì˜¬ë¦¬ê³  ê²½ë¡œë§Œ ë§ì¶”ë©´ ë¨ -->
  <!-- <meta property="og:image" content="https://<username>.github.io/<repo>/assets/og.png" /> -->

  <meta name="theme-color" content="#667eea" />

  <style>
    :root{
      --bg: linear-gradient(135deg, #0c1421 0%, #1a1a2e 50%, #16213e 100%);
      --panel: linear-gradient(145deg, rgba(255,255,255,0.08), rgba(255,255,255,0.03));
      --panel-border: rgba(255,255,255,0.15);
      --glass: rgba(255,255,255,0.1);
      --text:#ffffff;
      --muted:#b8c5e6;
      --brand: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --brand-solid: #667eea;
      --ok:#10b981;
      --warn:#f59e0b;
      --bad:#ef4444;
      --border:rgba(255,255,255,.12);
      --shadow: 0 20px 60px rgba(0,0,0,.4), 0 4px 16px rgba(0,0,0,.2);
      --radius:16px;
      --radius2:24px;
      --max:1200px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Apple SD Gothic Neo, Noto Sans KR, Arial;
      background:
        radial-gradient(circle at 20% 20%, rgba(102, 126, 234, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(118, 75, 162, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(16, 185, 129, 0.1) 0%, transparent 50%),
        var(--bg);
      color:var(--text);
      min-height:100vh;
      letter-spacing:-0.01em;
    }
    a{color:inherit;text-decoration:none}
    .wrap{max-width:var(--max);margin:0 auto;padding:22px 18px 70px}
    header{
      display:flex;gap:16px;align-items:center;justify-content:space-between;flex-wrap:wrap;
      padding:20px 24px;border:1px solid var(--panel-border);border-radius:var(--radius2);
      background:var(--panel);backdrop-filter: blur(20px);box-shadow:var(--shadow);
      margin-bottom:24px;
    }
    .brand{display:flex;gap:12px;align-items:center}
    .logo{
      width:56px;height:56px;border-radius:16px;background:var(--brand);
      box-shadow:0 12px 32px rgba(102, 126, 234, 0.4);
      display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:800;
      position:relative;overflow:hidden;
    }
    .logo::before{content:'ğŸ‘ï¸';position:relative;z-index:2}
    .logo::after{
      content:'';position:absolute;inset:0;
      background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.2) 50%, transparent 70%);
      animation: logoShine 3s infinite;
    }
    @keyframes logoShine {
      0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
      50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
      100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
    }
    .title h1{margin:0;font-size:28px;font-weight:800}
    .title p{margin:4px 0 0;font-size:14px;color:var(--muted)}
    nav{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .chip{
      border:1px solid var(--border);background:var(--glass);
      padding:12px 20px;border-radius:999px;font-size:14px;color:var(--muted);
      transition:all .25s ease;font-weight:600;position:relative;overflow:hidden;
    }
    .chip:hover{transform:translateY(-2px);border-color:var(--brand-solid);color:var(--text);box-shadow:0 8px 32px rgba(102,126,234,.25);background:rgba(102,126,234,.10)}
    .chip.active{border-color:var(--brand-solid);color:var(--text);background:var(--brand);box-shadow:0 8px 32px rgba(102,126,234,.35)}
    .panel{
      border:1px solid var(--panel-border);border-radius:var(--radius2);
      background:var(--panel);backdrop-filter: blur(20px);box-shadow:var(--shadow);overflow:hidden;
    }
    .panel .hd{padding:14px 14px 10px;border-bottom:1px solid var(--border);display:flex;align-items:flex-end;justify-content:space-between;gap:10px;flex-wrap:wrap}
    .panel .hd h2{margin:0;font-size:18px;font-weight:800}
    .panel .hd small{color:var(--muted)}
    .panel .bd{padding:14px}
    .grid{display:grid;gap:14px;margin-top:16px;grid-template-columns:1.4fr .8fr}
    @media (max-width: 920px){ .grid{grid-template-columns:1fr} }
    .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .search{
      flex:1;min-width:210px;display:flex;gap:10px;align-items:center;
      padding:10px 12px;border:1px solid var(--border);border-radius:14px;background:rgba(0,0,0,.15);
    }
    .search input{width:100%;border:0;outline:0;background:transparent;color:var(--text);font-size:14px}
    .seg{display:flex;border:1px solid var(--border);border-radius:999px;overflow:hidden;background:rgba(0,0,0,.12)}
    .seg button{border:0;background:transparent;color:var(--muted);padding:9px 12px;font-size:13px;cursor:pointer}
    .seg button.active{background: rgba(122,162,255,.16); color: var(--text)}
    .scenario-btn{border:0;background:transparent;color:var(--muted);padding:9px 12px;font-size:13px;cursor:pointer}
    .scenario-btn.active{background: rgba(122,162,255,.16); color: var(--text)}
    .cards{display:grid;gap:12px;grid-template-columns:repeat(2,minmax(0,1fr))}
    @media (max-width: 620px){ .cards{grid-template-columns:1fr} }
    .card{
      border:1px solid var(--border);border-radius:var(--radius);background:rgba(0,0,0,.16);
      padding:12px;display:flex;gap:12px;align-items:flex-start;transition:transform .12s ease,border-color .12s ease;
    }
    .card:hover{transform:translateY(-2px);border-color:rgba(122,162,255,.45)}
    .avatar{
      width:48px;height:48px;border-radius:16px;overflow:hidden;flex:0 0 auto;
      background:rgba(255,255,255,.08);border:1px solid var(--border);
      display:flex;align-items:center;justify-content:center;font-weight:800;
    }
    .avatar img{width:100%;height:100%;object-fit:cover;display:block}
    .meta h3{margin:0;font-size:14px}
    .meta p{margin:6px 0 0;color:var(--muted);font-size:12px;line-height:1.45}
    .pillrow{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap}
    .pill{font-size:11px;padding:6px 9px;border-radius:999px;border:1px solid var(--border);color:var(--muted);background:rgba(255,255,255,.05)}
    .list{display:flex;flex-direction:column;gap:10px}
    .item{
      border:1px solid var(--border);border-radius:var(--radius);background:rgba(0,0,0,.16);
      padding:12px;display:flex;align-items:center;justify-content:space-between;gap:10px;
      transition:transform .12s ease,border-color .12s ease;
    }
    .item:hover{transform:translateY(-2px);border-color:rgba(96,211,148,.45)}
    .left{display:flex;flex-direction:column;gap:4px;min-width:0}
    .sym{font-weight:900}
    .name{color:var(--muted);font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .tag{font-size:11px;padding:6px 9px;border-radius:999px;border:1px solid var(--border);color:var(--muted);background:rgba(255,255,255,.05);white-space:nowrap}
    .btn{
      border:1px solid var(--border);background:var(--glass);padding:12px 18px;border-radius:var(--radius);
      font-size:14px;cursor:pointer;color:var(--text);transition:all .25s ease;font-weight:700;
    }
    .btn:hover{border-color:var(--brand-solid);background:rgba(102,126,234,0.12);transform:translateY(-2px);box-shadow:0 8px 24px rgba(102,126,234,.2)}
    .crumb{color:var(--muted);font-size:12px}

    /* Hero */
    .hero-section{text-align:center;padding:54px 0 44px}
    .hero-title{
      font-size:54px;font-weight:900;margin:0 0 18px;
      background:var(--brand);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;color:transparent;
      line-height:1.15;
    }
    @media (max-width: 700px){ .hero-title{font-size:40px} }
    .hero-subtitle{font-size:18px;color:var(--muted);margin:0;line-height:1.6}

    /* Investors showcase */
    .section-header{text-align:center;margin:0 0 24px}
    .section-header h2{font-size:34px;font-weight:900;margin:0 0 10px}
    .section-header p{font-size:16px;color:var(--muted);margin:0}
    .investors-grid{display:grid;gap:18px;grid-template-columns:repeat(auto-fit,minmax(320px,1fr))}
    .investor-card{
      position:relative;overflow:hidden;border:1px solid var(--panel-border);border-radius:var(--radius2);
      background:var(--panel);backdrop-filter:blur(20px);padding:20px;transition:all .25s ease;box-shadow:var(--shadow);
    }
    .investor-card:hover{transform:translateY(-8px);border-color:var(--brand-solid);box-shadow:0 32px 80px rgba(0,0,0,.5)}
    .investor-avatar{
      width:240px;height:280px;margin:0 auto 16px;border-radius:var(--radius);overflow:hidden;
      border:3px solid var(--brand-solid);box-shadow:0 16px 56px rgba(102,126,234,0.35);
      display:flex;align-items:center;justify-content:center;
      background: linear-gradient(135deg, rgba(122,162,255,.35), rgba(96,211,148,.18));
      font-weight:900;font-size:22px;
    }
    .investor-avatar img{width:100%;height:100%;object-fit:cover;display:block}
    .investor-info h3{text-align:center;font-size:22px;margin:0 0 10px;font-weight:900}
    .investor-quote{text-align:center;font-size:14px;color:var(--muted);font-style:italic;margin:0 0 10px;line-height:1.5}
    .investor-summary{text-align:center;font-size:15px;margin:0 0 14px;line-height:1.6}
    .investor-tags{display:flex;gap:6px;flex-wrap:wrap;justify-content:center}
    .investor-tags .tag{background:rgba(102,126,234,0.18);color:#cfd8ff;border-color:rgba(102,126,234,0.25)}
    .card-overlay{
      position:absolute;bottom:0;left:0;right:0;background:var(--brand);
      padding:10px;text-align:center;font-weight:900;font-size:13px;opacity:0;transition:all .25s ease;
    }
    .investor-card:hover .card-overlay{opacity:1}

    /* Asset cards */
    .assets-grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}
    .asset-card{
      border:1px solid var(--border);border-radius:var(--radius);background:var(--panel);
      padding:18px;transition:all .25s ease;backdrop-filter:blur(20px);
    }
    .asset-card:hover{transform:translateY(-4px);border-color:var(--ok)}
    .asset-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
    .asset-symbol{font-size:16px;font-weight:900}
    .asset-type{font-size:10px;padding:4px 8px;border-radius:8px;font-weight:900}
    .asset-type.stock{background:rgba(16,185,129,0.2);color:var(--ok)}
    .asset-type.etf{background:rgba(102,126,234,0.2);color:#cfd8ff}
    .asset-name{font-size:13px;color:var(--muted);margin-bottom:10px}
    .asset-price .price{font-size:18px;font-weight:900;margin-right:10px}
    .asset-price .change{font-size:12px;padding:4px 6px;border-radius:6px}
    .positive{background:rgba(96,211,148,.2);color:var(--ok)}
    .negative{background:rgba(255,107,107,.2);color:var(--bad)}

    /* Asset detail */
    .stockHeader{
      background: linear-gradient(135deg, rgba(122,162,255,.15), rgba(96,211,148,.10));
      border:1px solid var(--border);border-radius:var(--radius2);padding:16px;margin-bottom:16px;
    }
    .priceRow{display:flex;gap:16px;align-items:baseline;margin:12px 0;flex-wrap:wrap}
    .mainPrice{font-size:36px;font-weight:900}
    .priceChange{font-size:14px;padding:4px 8px;border-radius:8px}
    .metrics{display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(110px,1fr));margin-top:12px}
    .metric{text-align:center;padding:8px;background:rgba(255,255,255,.05);border-radius:8px;border:1px solid var(--border)}
    .metric .value{font-weight:900;font-size:15px}
    .metric .label{font-size:11px;color:var(--muted);margin-top:2px}
    .compactPanel{border:1px solid var(--border);border-radius:var(--radius);background:rgba(0,0,0,.16);padding:12px;margin-bottom:12px}
    .investorMini{display:flex;gap:8px;align-items:center;margin-bottom:10px}
    .investorMini .avatar{width:32px;height:32px;border-radius:12px}
    .investorMini h3{margin:0;font-size:13px}
    .investorMini .verdict{font-size:11px;color:var(--muted)}
    .bullets{margin:8px 0;padding-left:16px}
    .bullets li{margin:4px 0;font-size:12px;line-height:1.4}

    /* Investor page layout */
    .investor-layout{display:grid;gap:18px;grid-template-columns:1.5fr 1fr}
    @media (max-width: 1000px){ .investor-layout{grid-template-columns:1fr} }
    .philosophy-section{background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:var(--radius);padding:16px}
    .philosophy-section h3{margin:0 0 10px;font-size:16px;font-weight:900}
    .philosophy-list{margin:0;padding-left:18px;line-height:1.65;color:var(--muted);font-size:13px}
    .analysis-section{background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:var(--radius);padding:16px;min-height:280px}
    .analysis-placeholder{text-align:center;padding:28px 10px;color:var(--muted)}
    .analysis-verdict{margin-top:8px;font-weight:900}
    .asset-tabs{display:flex;gap:8px;margin-bottom:12px}
    .tab-btn{padding:8px 14px;border:1px solid var(--border);background:rgba(255,255,255,0.05);border-radius:var(--radius);color:var(--muted);cursor:pointer;font-weight:800}
    .tab-btn.active{background:var(--brand);color:white;border-color:var(--brand-solid)}
    .clickable-item{cursor:pointer}
    .clickable-item.selected{background:rgba(102,126,234,0.2);border-color:var(--brand-solid)}
    .note{
      border:1px dashed rgba(255,255,255,.18);border-radius:var(--radius);padding:12px;background:rgba(255,255,255,.04);
      color:var(--muted);font-size:12px;line-height:1.5;
    }

    footer{margin-top:18px;color:var(--muted);font-size:12px;display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;opacity:.9}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
    /* ===== Assets List UI Polish ===== */
    :root{
      --surface: rgba(255,255,255,0.045);
      --surface2: rgba(0,0,0,0.20);
      --border2: rgba(255,255,255,0.10);
      --border3: rgba(255,255,255,0.16);
    }

    .panel .bd{ padding: 16px; }

    /* ê²€ìƒ‰/í•„í„° ë°” */
    .assetsToolbar{
      display:flex;
      gap:12px;
      align-items:center;
      flex-wrap:wrap;
      margin-bottom:14px;
    }
    .search{
      background: rgba(0,0,0,.22);
      border: 1px solid var(--border2);
      border-radius: 16px;
      padding: 12px 14px;
    }
    .search input{ font-size: 14px; }

    .seg{
      background: rgba(0,0,0,.22);
      border: 1px solid var(--border2);
    }
    .seg button{
      padding: 10px 14px;
      font-weight: 600;
      letter-spacing: -0.01em;
    }
    .seg button.active{
      background: rgba(102,126,234,.20);
      color: #fff;
    }

    /* ë¦¬ìŠ¤íŠ¸ ì¹´ë“œ */
    .assetItem{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      padding:14px 14px;
      border-radius: 18px;
      border: 1px solid var(--border2);
      background:
        radial-gradient(1200px 120px at 20% 0%, rgba(102,126,234,.12), transparent 60%),
        radial-gradient(900px 140px at 80% 100%, rgba(16,185,129,.10), transparent 60%),
        rgba(0,0,0,.18);
      transition: transform .15s ease, border-color .15s ease, background .15s ease, box-shadow .15s ease;
    }
    .assetItem:hover{
      transform: translateY(-2px);
      border-color: rgba(102,126,234,.45);
      box-shadow: 0 16px 44px rgba(0,0,0,.35);
    }

    .assetLeft{
      display:flex;
      gap:12px;
      min-width:0;
      align-items:center;
      flex:1;
    }
    .assetMark{
      width:42px;
      height:42px;
      border-radius: 14px;
      border: 1px solid var(--border2);
      background: linear-gradient(135deg, rgba(102,126,234,.25), rgba(118,75,162,.18));
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:800;
      letter-spacing:-0.02em;
      flex:0 0 auto;
    }
    .assetText{
      min-width:0;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .assetTopRow{
      display:flex;
      gap:10px;
      align-items:baseline;
      flex-wrap:wrap;
    }
    .assetSym{
      font-size:16px;
      font-weight:800;
    }
    .assetName{
      font-size:13px;
      color: var(--muted);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width: 520px;
    }
    .assetMeta{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      font-size:12px;
      color: var(--muted);
    }
    .assetWhy{
      font-size:12px;
      color: rgba(184,197,230,.95);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width: 620px;
    }

    .badge{
      font-size:11px;
      padding:6px 10px;
      border-radius:999px;
      border: 1px solid var(--border2);
      background: rgba(255,255,255,.05);
      color: var(--muted);
      font-weight:700;
    }
    .badge.stock{ color: rgba(16,185,129,.95); border-color: rgba(16,185,129,.25); background: rgba(16,185,129,.10); }
    .badge.etf{ color: rgba(102,126,234,.95); border-color: rgba(102,126,234,.25); background: rgba(102,126,234,.10); }

    .assetRight{
      display:flex;
      gap:10px;
      align-items:center;
      flex:0 0 auto;
    }
    .assetPriceBox{
      text-align:right;
      min-width: 120px;
    }
    .assetPrice{
      font-size:14px;
      font-weight:800;
    }
    .assetChg{
      display:inline-flex;
      gap:6px;
      align-items:center;
      margin-top:4px;
      font-size:12px;
      padding:4px 8px;
      border-radius:10px;
      border: 1px solid var(--border2);
      background: rgba(255,255,255,.04);
    }
    .assetChg.positive{ color: var(--ok); border-color: rgba(16,185,129,.25); background: rgba(16,185,129,.10); }
    .assetChg.negative{ color: var(--bad); border-color: rgba(239,68,68,.25); background: rgba(239,68,68,.10); }

    .assetGo{
      width:36px;
      height:36px;
      border-radius: 14px;
      border: 1px solid var(--border2);
      background: rgba(255,255,255,.05);
      display:flex;
      align-items:center;
      justify-content:center;
      transition: transform .15s ease, border-color .15s ease, background .15s ease;
    }
    .assetItem:hover .assetGo{
      transform: translateX(1px);
      border-color: rgba(102,126,234,.45);
      background: rgba(102,126,234,.10);
    }
  /* ===== Home Simulation (prettier) ===== */
  .home-sim{ margin: 54px 0 70px; }
  .home-sim-card{
    border: 1px solid rgba(255,255,255,.14);
    border-radius: 26px;
    background: linear-gradient(145deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
    box-shadow: 0 28px 80px rgba(0,0,0,.45);
    backdrop-filter: blur(22px);
    overflow: hidden;
  }
  .home-sim-hd{
    padding: 22px 22px 14px;
    display:flex; align-items:flex-end; justify-content:space-between; gap:12px;
    border-bottom: 1px solid rgba(255,255,255,.10);
  }
  .home-sim-title{ font-size: 20px; font-weight: 750; letter-spacing:-.02em; }
  .home-sim-sub{ margin-top:6px; font-size: 12px; color: var(--muted); }
  .home-sim-link{
    font-size: 13px; color: rgba(255,255,255,.88);
    padding: 10px 14px; border-radius: 14px;
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(0,0,0,.14);
  }
  .home-sim-link:hover{ border-color: rgba(102,126,234,.6); background: rgba(102,126,234,.12); }

  .home-sim-form{
    padding: 14px 22px 18px;
    display:grid; gap:12px;
    grid-template-columns: 1.2fr .9fr 1fr;
  }
  @media (max-width: 900px){
    .home-sim-form{ grid-template-columns: 1fr; }
  }

  .form-row{ display:flex; flex-direction:column; gap:8px; }
  .form-row label{ font-size: 12px; color: rgba(255,255,255,.85); }

  .select{
    height: 42px;
    padding: 0 12px;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(0,0,0,.16);
    color: var(--text);
  }

  .money{
    height: 42px;
    display:flex; align-items:center; gap:8px;
    padding: 0 12px;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(0,0,0,.16);
  }
  .money .unit{ color: var(--muted); font-size: 12px; }
  .money input{
    width:100%; border:0; outline:0;
    background:transparent; color:var(--text);
    font-size: 14px;
  }

  .seg2{
    display:flex; gap:8px;
    padding: 6px;
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(0,0,0,.14);
  }
  .seg2-btn{
    flex:1;
    height: 30px;
    border:0; cursor:pointer;
    border-radius: 12px;
    background: transparent;
    color: var(--muted);
    font-size: 12px;
    font-weight: 650;
  }
  .seg2-btn.active{
    background: linear-gradient(135deg, rgba(102,126,234,.55), rgba(118,75,162,.45));
    color: white;
  }

  .home-sim-body{
    padding: 18px 22px 22px;
    display:grid; gap:18px;
    grid-template-columns: 1fr 1fr;
  }
  @media (max-width: 900px){
    .home-sim-body{ grid-template-columns: 1fr; }
  }

  .sim-summary{
    border: 1px solid rgba(255,255,255,.12);
    border-radius: 18px;
    background: rgba(0,0,0,.16);
    padding: 14px;
    margin-bottom: 12px;
  }
  .sim-summary .big{
    font-size: 26px; font-weight: 800;
    letter-spacing:-.02em;
  }
  .sim-summary .small{
    margin-top:6px;
    font-size: 12px; color: var(--muted);
  }

  .sim-cards{
    display:grid; gap:12px;
    grid-template-columns: repeat(3, minmax(0,1fr));
  }
  @media (max-width: 620px){
    .sim-cards{ grid-template-columns: 1fr; }
  }

  .sim-card{
    border: 1px solid rgba(255,255,255,.12);
    border-radius: 18px;
    background: rgba(0,0,0,.16);
    padding: 14px;
  }
  .sim-card .yr{ font-size: 12px; color: var(--muted); font-weight: 650; }
  .sim-card .val{ margin-top:8px; font-size: 18px; font-weight: 800; }
  .sim-card .sub{ margin-top:6px; font-size: 11px; color: var(--muted); }

  .sim-right{
    border: 1px solid rgba(255,255,255,.12);
    border-radius: 18px;
    background: rgba(0,0,0,.14);
    padding: 14px;
  }
  .sim-chart-hd{
    display:flex; align-items:baseline; justify-content:space-between;
    margin-bottom: 10px;
  }
  .chart-title{ font-size: 13px; font-weight: 750; }
  .chart-legend{ font-size: 11px; color: var(--muted); }
  .sim-footnote{ margin-top:10px; font-size: 11px; color: var(--muted); }

  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <a class="brand" href="#/">
        <div class="logo" aria-hidden="true"></div>
        <div class="title">
          <h1>Investor Lens</h1>
          <p>íˆ¬ì ê±°ë¬¼ ê´€ì ìœ¼ë¡œ ì¢…ëª©/ETFë¥¼ ë¶„ì„í•˜ëŠ” ê°œì¸ ìœ„í‚¤</p>
        </div>
      </a>
      <nav>
        <a class="chip" data-link href="#/">í™ˆ</a>
        <a class="chip" data-link href="#/investors">íˆ¬ìì</a>
        <a class="chip" data-link href="#/assets">ì¢…ëª© Â· ETF</a>
        <a class="chip" data-link href="#/about">About</a>
      </nav>
    </header>

    <main id="app"></main>

    <footer>
      <div>Â© <span id="year"></span> Investor Lens Â· Built for GitHub Pages</div>
      <div class="mono">Routing: hash (#/)</div>
    </footer>
  </div>

<script>
/** =========================
 * DATA (ì—¬ê¸°ë§Œ ë°”ê¿”ë„ í™•ì¥ ê°€ëŠ¥)
 * ========================= */
const INVESTORS = [
  {
    id: "buffett",
    name: "ì›Œë Œ ë²„í•",
    img: "assets/img/buffett.jpg",
    summary: "â€˜ì¢‹ì€ íšŒì‚¬â€™ë¥¼ â€˜ì•ˆì „ë§ˆì§„â€™ ìˆëŠ” ê°€ê²©ì— ì‚¬ì„œ ì˜¤ë˜ ë“¤ê³  ê°„ë‹¤.",
    quote: "Rule No.1: Never lose money. Rule No.2: Never forget rule No.1.",
    oneLiner: "í›Œë¥­í•œ íšŒì‚¬ë¥¼ ì ì •/í• ì¸ê°€ì—, ê¸¸ê²Œ.",
    philosophy: [
      "ì´ íšŒì‚¬ê°€ 10ë…„ í›„ì—ë„ ë…ì ì  ì§€ìœ„ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆì„ê¹Œ? (í•´ì)",
      "í˜„ê¸ˆíë¦„ì´ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  ì•ˆì •ì ì¸ê°€?",
      "í˜„ì¬ ê°€ê²©ì— ì¶©ë¶„í•œ ì•ˆì „ë§ˆì§„ì´ ìˆëŠ”ê°€?",
      "ê²½ì˜ì§„ì´ ì£¼ì£¼ê°€ì¹˜ë¥¼ ì¤‘ì‹œí•˜ê³  ìë³¸ë°°ë¶„ì„ ì˜í•˜ëŠ”ê°€?",
      "ì´í•´í•˜ê¸° ì‰¬ìš´ ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸ì¸ê°€?"
    ],
    styleTags: ["í€„ë¦¬í‹°", "í˜„ê¸ˆíë¦„", "ì•ˆì „ë§ˆì§„", "ì¥ê¸°ë³´ìœ "]
  },
  {
    id: "lynch",
    name: "í”¼í„° ë¦°ì¹˜",
    img: "assets/img/lynch.jpg",
    summary: "ì„±ì¥ ìŠ¤í† ë¦¬ë¥¼ â€˜ìˆ«ìâ€™ë¡œ í™•ì¸í•˜ê³ , ìœ í˜•ì„ ë‚˜ëˆ ì„œ íˆ¬ìí•œë‹¤.",
    quote: "Know what you own, and know why you own it.",
    oneLiner: "ì„±ì¥ ìŠ¤í† ë¦¬ë¥¼ ìˆ«ìë¡œ í™•ì¸í•˜ê³ , ë¶„ë¥˜í•´ì„œ ì‚°ë‹¤.",
    philosophy: [
      "ì´ íšŒì‚¬ëŠ” ì–´ë–¤ ì„±ì¥ ìœ í˜•ì¸ê°€? (Fast grower, Cyclical, Stalwart)",
      "ì„±ì¥ ìŠ¤í† ë¦¬ê°€ ì‹¤ì œ ìˆ«ì(ë§¤ì¶œ, ì´ìµ)ë¡œ ë’·ë°›ì¹¨ë˜ëŠ”ê°€?",
      "ì‹œì¥ì—ì„œ ê³¼ë„í•˜ê²Œ ì£¼ëª©ë°›ì•„ ê°€ê²©ì´ ì•ì„œê°€ì§€ ì•Šì•˜ë‚˜?",
      "ì—…ê³„ì™€ íšŒì‚¬ë¥¼ ì¶©ë¶„íˆ ì´í•´í•˜ê³  ìˆëŠ”ê°€?",
      "ì¥ê¸° ì„±ì¥ ê°€ëŠ¥ì„±ê³¼ í˜„ì¬ ë°¸ë¥˜ì—ì´ì…˜ì˜ ê· í˜•ì€?"
    ],
    styleTags: ["ì„±ì¥ì£¼", "ìŠ¤í† ë¦¬+ìˆ«ì", "ë¶„ë¥˜", "í˜„ì¥ê°"]
  },
  {
    id: "munger",
    name: "ì°°ë¦¬ ë©ê±°",
    img: "assets/img/munger.jpg",
    summary: "ì§ˆì´ ì••ë„ì ì¸ ê¸°ì—…ì„ â€˜ê¸°ë‹¤ë ¸ë‹¤ê°€â€™ í¬ê²Œ ì‚°ë‹¤.",
    quote: "Try to be consistently not stupid.",
    oneLiner: "ì§ˆì´ ì••ë„ì ì´ë©´, ê¸°ë‹¤ë ¸ë‹¤ê°€ í¬ê²Œ ê±´ë‹¤.",
    philosophy: [
      "ë‚´ ëŠ¥ë ¥ ë²”ìœ„(Circle of Competence) ì•ˆì˜ íˆ¬ìì¸ê°€?",
      "ê²½ìŸìš°ìœ„ê°€ êµ¬ì¡°ì ì´ê³  ì§€ì†ê°€ëŠ¥í•œê°€?",
      "ì‹¤ìˆ˜ë¥¼ í”¼í•˜ëŠ” ê²ƒì´ ì„±ê³µë³´ë‹¤ ì¤‘ìš”í•˜ë‹¤",
      "í’ˆì§ˆì´ ì••ë„ì ìœ¼ë¡œ ì¢‹ë‹¤ë©´ ì ì •ê°€ê²©ì„ ì§€ë¶ˆí•  ìˆ˜ ìˆë‹¤",
      "ë³µë¦¬ì˜ í˜ì„ í™œìš©í•  ë§Œí¼ ì˜¤ë˜ ë³´ìœ í•  ìˆ˜ ìˆë‚˜?"
    ],
    styleTags: ["í€„ë¦¬í‹°", "ê¸°ë‹¤ë¦¼", "ë¦¬ìŠ¤í¬íšŒí”¼", "í•´ì"]
  },
  {
    id: "fisher",
    name: "í•„ë¦½ í”¼ì…”",
    img: "assets/img/fisher.jpg",
    summary: "ê¸°ìˆ /ì œí’ˆ ë¦¬ë”ì‹­ê³¼ ì¥ê¸° ì„±ì¥ì‹œì¥ì„ ë³´ê³  ì˜¤ë˜ ëª¨ì€ë‹¤.",
    quote: "Price is what you pay. Value is what you get.",
    oneLiner: "ê¸°ìˆ /ì œí’ˆì´ ì‚°ì—…ì„ ë°”ê¾¸ë©´, ê¸¸ê²Œ ëª¨ì€ë‹¤.",
    philosophy: [
      "ì œí’ˆ/ê¸°ìˆ ì´ ì—…ê³„ íŒë„ë¥¼ ë°”ê¿€ í˜ì‹ ì ì¸ê°€?",
      "R&Dì™€ í˜ì‹  ì—­ëŸ‰ì´ ê²½ìŸì‚¬ë¥¼ ì••ë„í•˜ëŠ”ê°€?",
      "ì¥ê¸°ì ìœ¼ë¡œ ì„±ì¥í•  ìˆ˜ ìˆëŠ” í° ì‹œì¥(TAM)ì´ ìˆëŠ”ê°€?",
      "ìš°ìˆ˜í•œ ê²½ì˜ì§„ê³¼ ê¸°ì—…ë¬¸í™”ë¥¼ ê°–ì·„ëŠ”ê°€?",
      "ë‹¨ê¸° ë³€ë™ì„±ë³´ë‹¤ ì¥ê¸° ì„±ì¥ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë‚˜?"
    ],
    styleTags: ["ì„±ì¥", "ê¸°ìˆ ë¦¬ë”ì‹­", "ì¥ê¸°", "í€„ë¦¬í‹°"]
  },
  {
    id: "dalio",
    name: "ë ˆì´ ë‹¬ë¦¬ì˜¤",
    img: "assets/img/dalio.jpg",
    summary: "ê±°ì‹œ ì‚¬ì´í´ê³¼ ë¶„ì‚°ì„ ê¸°ë°˜ìœ¼ë¡œ â€˜ë¹„ì¤‘â€™ìœ¼ë¡œ ë¦¬ìŠ¤í¬ë¥¼ ê´€ë¦¬í•œë‹¤.",
    quote: "He who lives by the crystal ball will eat shattered glass.",
    oneLiner: "ê±°ì‹œ ì‚¬ì´í´ê³¼ ë¶„ì‚°. ë¹„ì¤‘ì´ ê³§ ë¦¬ìŠ¤í¬ë‹¤.",
    philosophy: [
      "í˜„ì¬ ê²½ì œ/ì‹œì¥ ì‚¬ì´í´ì˜ ì–´ëŠ ë‹¨ê³„ì— ìˆëŠ”ê°€?",
      "í¬íŠ¸í´ë¦¬ì˜¤ê°€ ë‹¤ì–‘í•œ ì‹œë‚˜ë¦¬ì˜¤ì— ëŒ€ë¹„ë˜ì–´ ìˆëŠ”ê°€?",
      "ê° ìì‚°ì˜ ë¦¬ìŠ¤í¬-ë¦¬í„´ í”„ë¡œí•„ì„ ì •í™•íˆ íŒŒì•…í–ˆë‚˜?",
      "ë¹„ì¤‘ ê´€ë¦¬ì™€ ë¦¬ë°¸ëŸ°ì‹± ê·œì¹™ì´ ìˆëŠ”ê°€?",
      "ê°ì •ì´ ì•„ë‹Œ ì›ì¹™ì— ë”°ë¼ íˆ¬ìí•˜ê³  ìˆëŠ”ê°€?"
    ],
    styleTags: ["ê±°ì‹œ", "ë¶„ì‚°", "ë¹„ì¤‘", "ë¦¬ìŠ¤í¬ê´€ë¦¬"]
  }
];

const ASSETS = [
  // Stocks
  {
    id:"nvda", type:"stock", symbol:"NVDA", name:"NVIDIA Corporation",
    sector:"ë°˜ë„ì²´/AI ì¸í”„ë¼",
    why:"AI ì»´í“¨íŒ… í”Œë«í¼(ì¹©+CUDA ìƒíƒœê³„)",
    description:"GPUì™€ AI ì¹© ë¶„ì•¼ì˜ ê¸€ë¡œë²Œ ë¦¬ë”. ë°ì´í„°ì„¼í„°/AI ì¸í”„ë¼ì˜ í•µì‹¬.",
    price: 138.07, change: -0.93, changePercent: -0.67,
    marketCap:"3.39T", peRatio:52.1, revenue:"126.0B", netIncome:"73.0B", eps:2.95, dividend:0.04, beta:1.68,
    lastUpdated:"ì˜ˆì‹œ ë°ì´í„°", dataSource:"(ìƒ˜í”Œ)"
  },
  {
    id:"tsla", type:"stock", symbol:"TSLA", name:"Tesla, Inc.",
    sector:"EV/ë¡œë³´í‹±ìŠ¤",
    why:"ì œì¡°+ì†Œí”„íŠ¸ì›¨ì–´+ììœ¨ì£¼í–‰ ì˜µì…˜",
    description:"ì „ê¸°ì°¨/ì—ë„ˆì§€/ììœ¨ì£¼í–‰/ë¡œë³´í‹±ìŠ¤ í™•ì¥.",
    price: 479.86, change: +8.35, changePercent: 1.77,
    marketCap:"1.53T", peRatio:88.4, revenue:"96.8B", netIncome:"15.0B", eps:5.43, dividend:0.00, beta:2.29,
    lastUpdated:"ì˜ˆì‹œ ë°ì´í„°", dataSource:"(ìƒ˜í”Œ)"
  },
  {
    id:"googl", type:"stock", symbol:"GOOGL", name:"Alphabet Inc.",
    sector:"í”Œë«í¼/í´ë¼ìš°ë“œ/AI",
    why:"ê´‘ê³  ìºì‹œì¹´ìš° + í´ë¼ìš°ë“œ + AI",
    description:"ê²€ìƒ‰/ìœ íŠœë¸Œ/ì•ˆë“œë¡œì´ë“œ/í´ë¼ìš°ë“œ ê¸°ë°˜ì˜ ê±°ëŒ€ í”Œë«í¼.",
    price: 186.37, change: +2.08, changePercent: 1.13,
    marketCap:"2.28T", peRatio:24.8, revenue:"330.8B", netIncome:"94.7B", eps:7.52, dividend:0.00, beta:1.05,
    lastUpdated:"ì˜ˆì‹œ ë°ì´í„°", dataSource:"(ìƒ˜í”Œ)"
  },
  {
    id:"pltr", type:"stock", symbol:"PLTR", name:"Palantir Technologies",
    sector:"ë°ì´í„°/êµ­ë°©/AI",
    why:"ì •ë¶€/ì—”í„°í”„ë¼ì´ì¦ˆ ë°ì´í„° í”Œë«í¼",
    description:"ì •ë¶€ê¸°ê´€/ê¸°ì—… ëŒ€ìƒ ë°ì´í„° ë¶„ì„Â·ì˜ì‚¬ê²°ì • í”Œë«í¼.",
    price: 75.19, change: +1.74, changePercent: 2.37,
    marketCap:"180.5B", peRatio:312.5, revenue:"2.6B", netIncome:"0.47B", eps:0.24, dividend:0.00, beta:2.44,
    lastUpdated:"ì˜ˆì‹œ ë°ì´í„°", dataSource:"(ìƒ˜í”Œ)"
  },

  // ETFs
  {
    id:"qqqm", type:"etf", symbol:"QQQM", name:"Invesco NASDAQ 100 ETF",
    sector:"ëŒ€í˜• ì„±ì¥ì£¼",
    why:"ë‚˜ìŠ¤ë‹¥100(ì¥ê¸°ìš© QQQ)",
    description:"ë‚˜ìŠ¤ë‹¥ 100 ì§€ìˆ˜ ì¶”ì¢… ETF(ëŒ€í˜• ê¸°ìˆ ì£¼ ì¤‘ì‹¬).",
    price: 209.45, change: +1.23, changePercent: 0.59,
    expenseRatio:"0.05%", aum:"15.2B", dividend:"0.52%", inception:"2020"
  },
  {
    id:"smh", type:"etf", symbol:"SMH", name:"VanEck Semiconductor ETF",
    sector:"ë°˜ë„ì²´",
    why:"ë°˜ë„ì²´ ì‚°ì—… ì§‘ì¤‘ ë² íŒ…",
    description:"ë°˜ë„ì²´ ì—…ê³„ ëŒ€í‘œ ì¢…ëª©ë“¤ë¡œ êµ¬ì„±ëœ ETF.",
    price: 225.80, change: +3.45, changePercent: 1.55,
    expenseRatio:"0.35%", aum:"12.8B", dividend:"1.1%", inception:"1999"
  },
  {
    id:"voo", type:"etf", symbol:"VOO", name:"Vanguard S&P 500 ETF",
    sector:"ë¯¸êµ­ ëŒ€í˜•ì£¼",
    why:"ë¯¸êµ­ ì‹œì¥ ê¸°ë³¸ê°’(ë¶„ì‚°)",
    description:"S&P 500 ì§€ìˆ˜ ì¶”ì¢… ETF.",
    price: 542.15, change: +2.10, changePercent: 0.39,
    expenseRatio:"0.03%", aum:"1.3T", dividend:"1.3%", inception:"2010"
  }
];

/** íˆ¬ììë³„ Ã— ìì‚°ë³„ ê´€ì  í…œí”Œë¦¿ */
const LENS = {
  buffett: {
    stock: (a) => {
      const map = {
        nvda: {
          verdict:"ğŸŸ¡ ì‹ ì¤‘ ê´€ë§ - ê°€ê²©ì´ ë¬¸ì œ",
          bullets:[
            "í•´ì(CUDA ìƒíƒœê³„)ëŠ” ê°•í•˜ì§€ë§Œ ì‚¬ì´í´/ê²½ìŸ ë³€ìˆ˜ ì¡´ì¬",
            "ë°¸ë¥˜ì—ì´ì…˜ì´ ë†’ìœ¼ë©´ â€˜ì¢‹ì€ íšŒì‚¬â€™ë¼ë„ ìˆ˜ìµë¥ ì´ ê¹ì¼ ìˆ˜ ìˆìŒ",
            "í˜„ê¸ˆíë¦„ ì˜ˆì¸¡ ë¶ˆí™•ì‹¤ êµ¬ê°„ì—ì„œëŠ” ë³´ìˆ˜ì ìœ¼ë¡œ ì ‘ê·¼"
          ],
          checklist:[
            "ê°€ê²©ì´ ì•ˆì „ë§ˆì§„ì„ ì£¼ëŠ”ê°€?",
            "AI ìˆ˜ìš”ê°€ êµ¬ì¡°ì  ì„±ì¥ì¸ê°€?",
            "ê²½ìŸ/ëŒ€ì²´ì¬ê°€ í•´ìë¥¼ ì•½í™”ì‹œí‚¤ëŠ”ê°€?",
            "ì‚¬ì´í´ í•˜ë½ì—ë„ ë§ˆì§„ ìœ ì§€ ê°€ëŠ¥í•œê°€?"
          ],
          howToUse:"ì¢‹ì€ ê¸°ì—…ì´ë¼ë„ â€˜ê°€ê²©â€™ì´ í•µì‹¬. ì¡°ì •ìœ¼ë¡œ ë°¸ë¥˜ê°€ ë‚´ë ¤ì˜¤ë©´ ê²€í† ."
        },
        tsla:{
          verdict:"ğŸ”´ ì œì™¸ - ì˜ˆì¸¡ ì–´ë ¤ì›€",
          bullets:["ìë™ì°¨ëŠ” ìë³¸ì§‘ì•½/ê²½ìŸ ì‹¬í™”","ìŠ¤í† ë¦¬ í”„ë¦¬ë¯¸ì—„ì´ ì»¤ì„œ ì•ˆì „ë§ˆì§„ í™•ë³´ ì–´ë ¤ì›€","ë¦¬ë” ê°œì¸ ë¦¬ìŠ¤í¬"],
          checklist:["í˜„ê¸ˆíë¦„ ì•ˆì •ì„±","ê·œì œ/ììœ¨ì£¼í–‰ ìƒìš©í™”","ê²½ìŸì‚¬ EV ì „í™˜ ì†ë„","ê°€ê²©ì´ ì•ˆì „ë§ˆì§„ ì£¼ëŠ”ê°€?"],
          howToUse:"ëŠ¥ë ¥ ë²”ìœ„ ë°–ì´ë©´ ê³¼ê°íˆ íŒ¨ìŠ¤."
        },
        googl:{
          verdict:"ğŸŸ¢ ë§¤ìˆ˜ ì„ í˜¸ - í•´ì+í˜„ê¸ˆíë¦„",
          bullets:["ê²€ìƒ‰/ìœ íŠœë¸Œ ë„¤íŠ¸ì›Œí¬ íš¨ê³¼","í˜„ê¸ˆì°½ì¶œë ¥ ìš°ìˆ˜","ë°¸ë¥˜ì—ì´ì…˜ì´ ê³¼ë„í•˜ì§€ ì•Šë‹¤ë©´ ì½”ì–´ í›„ë³´"],
          checklist:["ê·œì œ ë¦¬ìŠ¤í¬","AI ê²€ìƒ‰ ì „í™˜ì˜ ìˆ˜ìµì„±","í´ë¼ìš°ë“œ ìˆ˜ìµì„±","ìë³¸ë°°ë¶„(ìì‚¬ì£¼ ë“±)"],
          howToUse:"ë²„í• ìŠ¤íƒ€ì¼ â€˜ì½”ì–´â€™ í›„ë³´. ì¥ê¸° ë³´ìœ  ê´€ì ."
        },
        pltr:{
          verdict:"ğŸ”´ ì œì™¸ - ëª¨ë¸ ì´í•´ ë‚œì´ë„",
          bullets:["ë¹„ì¦ˆë‹ˆìŠ¤ê°€ ë³µì¡í•˜ê³  í‰ê°€ ê¸°ì¤€ì´ ì• ë§¤","ë°¸ë¥˜ì—ì´ì…˜ ë¶€ë‹´","ê³ ê°/ê³„ì•½ ë¦¬ìŠ¤í¬"],
          checklist:["ì§€ì†ê°€ëŠ¥í•œ í•´ì","ë¯¼ê°„ í™•ì¥ì„±","ê³„ì•½ ê°±ì‹ ë¥ ","ê°€ê²© ì •ë‹¹ì„±"],
          howToUse:"â€˜ì´í•´ ëª»í•˜ë©´ íˆ¬ì ì•ˆ í•œë‹¤â€™ ì›ì¹™."
        }
      };
      return map[a.id] || { verdict:"ë¶„ì„ ì¤€ë¹„ì¤‘", bullets:["ì¶”ê°€ ë°ì´í„° í•„ìš”"], checklist:["â€”"], howToUse:"â€”" };
    },
    etf: (a) => ({
      verdict:"ğŸŸ¢ ì½”ì–´ë¡œ ì í•©(íŠ¹íˆ ê´‘ë²”ìœ„ ì¸ë±ìŠ¤)",
      bullets:["ëŒ€ë¶€ë¶„ ì‚¬ëŒì—ê²Œ ì¸ë±ìŠ¤ ETFê°€ ìµœì ","ë‚®ì€ ë¹„ìš©+ë¶„ì‚°+ì¥ê¸° ì ë¦½","ì„¹í„° ETFëŠ” ë¹„ì¤‘ ì œí•œ"],
      checklist:["ë³´ìˆ˜ ë‚®ì€ê°€?","í¸ì¤‘/ì§‘ì¤‘ ë¦¬ìŠ¤í¬ëŠ”?","ì¥ê¸° ì ë¦½ ê°€ëŠ¥í•œê°€?"],
      howToUse:"VOO ê°™ì€ ê´‘ë²”ìœ„ ì¸ë±ìŠ¤ë¥¼ ì½”ì–´ë¡œ, í…Œë§ˆëŠ” ìœ„ì„±ìœ¼ë¡œ."
    })
  },

  lynch: {
    stock: (a) => {
      const map = {
        nvda:{
          verdict:"ğŸŸ¡ Fast Grower - ë„ˆë¬´ ìœ ëª…í•´ì§„ êµ¬ê°„ ì£¼ì˜",
          bullets:["ì„±ì¥ ìŠ¤í† ë¦¬ë¥¼ ìˆ«ìë¡œ ê²€ì¦(ë§¤ì¶œ/ì´ìµ)","ì´ë¯¸ ìœ ëª…í•˜ë©´ ê¸°ëŒ€ì¹˜ê°€ ë†’ë‹¤","ë¶„í• ë§¤ìˆ˜/ë¦¬ìŠ¤í¬ ê´€ë¦¬"],
          checklist:["ì„±ì¥ë¥  ì§€ì†ì„±","ê²½ìŸ ì¶”ê²©","ìƒˆ ì‹œì¥(TAM) í™•ì¥","ì‚¬ì´í´ í•˜ë½è€ì„±"],
          howToUse:"â€˜ìŠ¤í† ë¦¬+ìˆ«ìâ€™ê°€ ê³„ì† ë§ëŠ”ì§€ ë¶„ê¸°ë§ˆë‹¤ í™•ì¸."
        },
        tsla:{
          verdict:"ğŸŸ¡ Cyclical+Story - ë³€ë™ì„± ê·¹ëŒ€",
          bullets:["ìŠ¤í† ë¦¬ê°€ í¬ë©´ ì‹¤ì  ê²€ì¦ì´ ë” ì¤‘ìš”","ê²½ìŸ ì‹¬í™”/ë§ˆì§„ ì¶”ì ","í¬ì§€ì…˜ ì‚¬ì´ì¦ˆê°€ í•µì‹¬"],
          checklist:["ì¸ë„ëŸ‰/ë§ˆì§„","FSD ìƒìš©í™”","ì¤‘êµ­/ìœ ëŸ½ ê²½ìŸ","ì‚¬ì—… ë‹¤ê°í™” ì‹¤ì "],
          howToUse:"ì‹¤ì ì´ ìŠ¤í† ë¦¬ë¥¼ â€˜ì¦ëª…â€™í•  ë•Œë§Œ ë¹„ì¤‘ í™•ëŒ€."
        },
        googl:{
          verdict:"ğŸŸ¢ Stalwart - ì•ˆì •ì  ì„±ì¥ + AI ì˜µì…˜",
          bullets:["ìºì‹œì¹´ìš° ê¸°ë°˜","ë°¸ë¥˜ê°€ ë¬´ë‚œí•˜ë©´ ì½”ì–´","ì„±ì¥ë¥  ë‘”í™” ì²´í¬"],
          checklist:["ê²€ìƒ‰ ì„±ì¥ ë‘”í™”","AI ì „í™˜ ë¹„ìš©","í´ë¼ìš°ë“œ ì„±ì¥","ê·œì œ ë¦¬ìŠ¤í¬"],
          howToUse:"ë¦°ì¹˜ì‹ â€˜ì•ˆì •+ì˜µì…˜â€™ ì¡°í•©ì˜ ëŒ€í‘œ."
        },
        pltr:{
          verdict:"ğŸ”´ Story Stock - ì¦ëª… ë¶€ì¡±",
          bullets:["ìŠ¤í† ë¦¬ ëŒ€ë¹„ ì‹¤ì  ì•½í•˜ë©´ ìœ„í—˜","ë°¸ë¥˜ ë¶€ë‹´","ê³ ê° ì§‘ì¤‘/ì •ì±… ë¦¬ìŠ¤í¬"],
          checklist:["ê³ ê° í™•ëŒ€","ë§¤ì¶œ ì„±ì¥","ë§ˆì§„/í˜„ê¸ˆíë¦„","ëŒ€ì²´ ê°€ëŠ¥ì„±"],
          howToUse:"â€˜ìŠ¤í† ë¦¬ë§Œ ìˆëŠ” ì£¼ì‹â€™ì€ í”¼í•œë‹¤."
        }
      };
      return map[a.id] || { verdict:"ë¶„ì„ ì¤€ë¹„ì¤‘", bullets:["ì¶”ê°€ ë°ì´í„° í•„ìš”"], checklist:["â€”"], howToUse:"â€”" };
    },
    etf: (a) => ({
      verdict:"ğŸŸ¢ ì„±ì¥ ë°”ìŠ¤ì¼“ìœ¼ë¡œ ìœ ìš©",
      bullets:["ì„±ì¥ì£¼ ê³ ë¥´ê¸° ì–´ë µë‹¤ë©´ ETFë¡œ ë¶„ì‚°","ì„¹í„° ETFëŠ” ë³€ë™ì„± í¼","ì •ì•¡ ì ë¦½ìœ¼ë¡œ íƒ€ì´ë° ë¦¬ìŠ¤í¬ ì™„í™”"],
      checklist:["êµ¬ì„± ì¢…ëª©ì´ ì§„ì§œ ì„±ì¥ ì‚°ì—…ì¸ê°€?","ë³€ë™ì„± ê°ë‚´ ê°€ëŠ¥í•œê°€?","ë¹„ìš©/ì¶”ì ì˜¤ì°¨"],
      howToUse:"ì„±ì¥ ETF=â€˜ì„±ì¥ì£¼ ë¬¶ìŒâ€™ìœ¼ë¡œ ì ‘ê·¼."
    })
  },

  munger: {
    stock: (a) => {
      const map = {
        nvda:{
          verdict:"ğŸŸ¡ ê¸°ë‹¤ë¦¼ - ì§ˆì€ ì¢‹ì§€ë§Œ ê°€ê²©/ì´í•´ë„",
          bullets:["í•´ìëŠ” ê°•í•˜ì§€ë§Œ ê¸°ìˆ  ë³€í™”ê°€ ë¹ ë¦„","ì´í•´í•  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼","ê°€ê²©ì´ ì•ˆì „ë§ˆì§„ ì¤„ ë•Œë§Œ"],
          checklist:["ëŠ¥ë ¥ ë²”ìœ„ ì•ˆì¸ê°€?","ê°€ê²©ì´ â€˜ì™„ë²½í•œ ì‹œë‚˜ë¦¬ì˜¤â€™ë¥¼ ë°˜ì˜í–ˆë‚˜?","ëŒ€ì²´ì¬ ìœ„í—˜","ì¥ê¸° ìš°ìœ„ ì§€ì†ì„±"],
          howToUse:"ì™„ì „íˆ ì´í•´+ì¢‹ì€ ê°€ê²©, ë‘˜ ë‹¤ ì¶©ì¡±í•´ì•¼."
        },
        tsla:{
          verdict:"ğŸ”´ íšŒí”¼ - ë³µì¡ì„±/ë¶ˆí™•ì‹¤ì„±",
          bullets:["ë„ˆë¬´ ë§ì€ ë³€ìˆ˜","ë¦¬ë” ê°œì¸ ë¦¬ìŠ¤í¬","í‰ê°€ ë‚œì´ë„"],
          checklist:["ì‚¬ì—… ë¶„í•´ í‰ê°€ ê°€ëŠ¥?","ê·œì œ/ê¸ˆë¦¬ ë¯¼ê°ë„","ê²½ìŸ í™˜ê²½","ì˜êµ¬ì†ì‹¤ ê°€ëŠ¥ì„±"],
          howToUse:"â€˜ë„ˆë¬´ ì–´ë ¤ìš´ ë°”êµ¬ë‹ˆâ€™ëŠ” í”¼í•œë‹¤."
        },
        googl:{
          verdict:"ğŸŸ¢ ê°•ë ¥ - ì´í•´ ê°€ëŠ¥í•œ í•´ì",
          bullets:["ë„¤íŠ¸ì›Œí¬ íš¨ê³¼/ë°ì´í„°/ë¸Œëœë“œ","í˜„ê¸ˆì°½ì¶œë ¥","ì‹¤ìˆ˜ ê°€ëŠ¥ì„± ë‚®ìŒ"],
          checklist:["ê·œì œ ë¦¬ìŠ¤í¬","AIê°€ ëª¨ë¸ì„ íŒŒê´´í•˜ëŠ”ê°€?","ìë³¸ë°°ë¶„","í´ë¼ìš°ë“œ ê²½ìŸ"],
          howToUse:"í™•ì‹¤ì„±ì´ ë†’ìœ¼ë©´ â€˜ì§‘ì¤‘â€™ë„ ê°€ëŠ¥."
        },
        pltr:{
          verdict:"ğŸ”´ ì´í•´ ë¶ˆê°€ - ì œì™¸",
          bullets:["ëª¨ë¸ ì„¤ëª…ì´ ì–´ë µë‹¤","ê°€ê²© ì •ë‹¹ì„± ë‚®ìŒ"],
          checklist:["ì§€ì† ê°€ëŠ¥í•œ ê²½ìŸìš°ìœ„","ë¯¼ê°„ í™•ì¥ì„±","ì •ì±… ë¦¬ìŠ¤í¬","ëŒ€ì²´ ê°€ëŠ¥ì„±"],
          howToUse:"ì´í•´ ëª»í•˜ë©´ NO."
        }
      };
      return map[a.id] || { verdict:"ë¶„ì„ ì¤€ë¹„ì¤‘", bullets:["ì¶”ê°€ ë°ì´í„° í•„ìš”"], checklist:["â€”"], howToUse:"â€”" };
    },
    etf: (a) => ({
      verdict:"ğŸŸ¢ ì½”ì–´ ì¸ë±ìŠ¤ OK / í…Œë§ˆ ì œí•œ",
      bullets:["ê´‘ë²”ìœ„ ì¸ë±ìŠ¤=ì‹¤ìˆ˜ ì¤„ì´ê¸°","í…Œë§ˆëŠ” ì†ŒëŸ‰ ìœ„ì„±"],
      checklist:["ë‚´ ë©˜íƒˆì´ -40% ë²„í‹°ë‚˜?","ë¹„ì¤‘ ê·œì¹™ì´ ìˆë‚˜?","ë¦¬ë°¸ëŸ°ì‹± ê³„íš"],
      howToUse:"ì›ì¹™ì ìœ¼ë¡œ ë²„í‹¸ ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¡œ."
    })
  },

  fisher: {
    stock: (a) => {
      const map = {
        nvda:{
          verdict:"ğŸŸ¢ ê¸°ìˆ  ë¦¬ë”ì‹­ - ì¥ê¸° ë³´ìœ ",
          bullets:["ê¸°ìˆ /ì œí’ˆ ë¦¬ë”ê°€ ì‚°ì—…ì„ ë°”ê¿ˆ","R&D/ìƒíƒœê³„ê°€ í•µì‹¬","TAM í™•ì¥"],
          checklist:["ì°¨ì„¸ëŒ€ ë¡œë“œë§µ","ìƒíƒœê³„ ë½ì¸","ê²½ìŸ ê²©ì°¨","ì‹ ì‹œì¥ ì°½ì¶œ"],
          howToUse:"ê¸°ìˆ  ë¦¬ë”ì‹­ì´ ìœ ì§€ë˜ëŠ”ì§€ ì£¼ê¸°ì ìœ¼ë¡œ í™•ì¸."
        },
        tsla:{
          verdict:"ğŸŸ¡ í˜ì‹ ì ì´ë‚˜ ê²½ìŸ/ë¦¬ë” ë¦¬ìŠ¤í¬",
          bullets:["ì´ˆê¸° í˜ì‹ ì€ ì¸ì •","ê²½ìŸ ì‹¬í™”","ë¦¬ë”ì‹­ ì—°ì†ì„±"],
          checklist:["FSD/ë°°í„°ë¦¬ í˜ì‹ ","ì›ê°€ê²½ìŸë ¥","ì‹œì¥ì ìœ ìœ¨","í˜„ê¸ˆíë¦„"],
          howToUse:"í˜ì‹ ì´ â€˜ìˆ«ìâ€™ë¡œ ì¦ëª…ë˜ë©´ ì¥ê¸° ë¹„ì¤‘."
        },
        googl:{
          verdict:"ğŸŸ¢ í˜ì‹  í¬íŠ¸í´ë¦¬ì˜¤ - ì•ˆì •ì ",
          bullets:["ê²€ìƒ‰+í´ë¼ìš°ë“œ+AI","ë°ì´í„°/ì¸ì¬ ê¸°ë°˜","ì‹ ì‚¬ì—… ì˜µì…˜"],
          checklist:["AI ì „í™˜ ìˆ˜ìµì„±","í´ë¼ìš°ë“œ ê²½ìŸë ¥","ê·œì œ","ìë³¸ë°°ë¶„"],
          howToUse:"â€˜ì§€ì†ì  í˜ì‹  ê¸°ì—…â€™ìœ¼ë¡œ ì ‘ê·¼."
        },
        pltr:{
          verdict:"ğŸ”´ ê¸°ìˆ  ìš°ìœ„ ë¶ˆëª…í™• - ê´€ë§",
          bullets:["ê¸°ìˆ  ì°¨ë³„í™” ì¦ê±°ê°€ ì¤‘ìš”","í™•ì¥ì„±/ìˆ˜ìµí™” ê²€ì¦ í•„ìš”"],
          checklist:["ë…ì°½ ê¸°ìˆ  ì¦ê±°","ë¯¼ê°„ í™•ì¥","ê²½ìŸì‚¬ ëŒ€ë¹„","ìˆ˜ìµì„±"],
          howToUse:"ê¸°ìˆ  ìš°ìœ„ê°€ ëª…í™•í•´ì§ˆ ë•Œê¹Œì§€ ë³´ë¥˜."
        }
      };
      return map[a.id] || { verdict:"ë¶„ì„ ì¤€ë¹„ì¤‘", bullets:["ì¶”ê°€ ë°ì´í„° í•„ìš”"], checklist:["â€”"], howToUse:"â€”" };
    },
    etf: (a) => ({
      verdict:"ğŸŸ¢ í…Œë§ˆë¡œ ì„±ì¥ ë² íŒ…",
      bullets:["ì„¹í„° ETFëŠ” ì‚°ì—… ì„±ì¥ì— ë² íŒ…","êµ¬ì„± ì¢…ëª©ì˜ â€˜ì§ˆâ€™ì´ ì¤‘ìš”"],
      checklist:["ë¦¬ë” ì¤‘ì‹¬ì¸ê°€?","êµ¬ì¡°ì  ì„±ì¥ì¸ê°€?","ì§‘ì¤‘ ë¦¬ìŠ¤í¬ ê°ë‚´?"],
      howToUse:"ì½”ì–´ëŠ” ë¶„ì‚°, í…Œë§ˆëŠ” ìœ„ì„±."
    })
  },

  dalio: {
    stock: (a) => {
      const map = {
        nvda:{
          verdict:"ğŸŸ¡ ê³ ìœ„í—˜-ê³ ìˆ˜ìµ - ë¹„ì¤‘ ì œí•œ",
          bullets:["ì‚¬ì´í´+ê¸ˆë¦¬ ë¯¼ê°","ì§€ì •í•™/ê³µê¸‰ë§ ë³€ìˆ˜","í¬íŠ¸í´ë¦¬ì˜¤ ìƒê´€ê´€ë¦¬ í•„ìš”"],
          checklist:["ê¸°ìˆ ì£¼ í¸ì¤‘ì¸ê°€?","ê²½ê¸°ì¹¨ì²´ ë¯¼ê°ë„","ê¸ˆë¦¬ ì‚¬ì´í´","ë¦¬ë°¸ëŸ°ì‹± ê·œì¹™"],
          howToUse:"5â€“10% ê°™ì€ ìƒí•œì„ ì„ ì •í•˜ê³  ë¦¬ë°¸ëŸ°ì‹±."
        },
        tsla:{
          verdict:"ğŸ”´ ë³€ë™ì„± ê³¼ë‹¤ - ì•ˆì •ì„± í•´ì¹¨",
          bullets:["ë¶ˆí™•ì‹¤ì„±/ìƒê´€ ë¶ˆì•ˆì •","í¬íŠ¸í´ë¦¬ì˜¤ ë¦¬ìŠ¤í¬ ì¦ê°€"],
          checklist:["ê±°ì‹œ ë¯¼ê°ë„","í˜„ê¸ˆíë¦„ ì•ˆì •ì„±","ê·œì œ","ìƒê´€êµ¬ì¡° ë³€í™”"],
          howToUse:"ë‹¬ë¦¬ì˜¤ ìŠ¤íƒ€ì¼ì´ë©´ ì½”ì–´ì— ë‘ê¸° ì–´ë ¤ì›€."
        },
        googl:{
          verdict:"ğŸŸ¢ ê· í˜• ìì‚° - ì½”ì–´ í›„ë³´",
          bullets:["í˜„ê¸ˆ/ì‚¬ì—… ë‹¤ê°í™”","ìƒëŒ€ì  ì•ˆì •+ì„±ì¥ ì˜µì…˜"],
          checklist:["ê´‘ê³  ê²½ê¸° ë¯¼ê°ë„","ê·œì œ ì˜í–¥","í´ë¼ìš°ë“œ ìˆ˜ìµì„±","ìƒê´€ ê´€ë¦¬"],
          howToUse:"ì½”ì–´ë¡œ ë‘ê³  ë¦¬ë°¸ëŸ°ì‹±ìœ¼ë¡œ ê³¼ì—´/í­ë½ ëŒ€ì‘."
        },
        pltr:{
          verdict:"ğŸ”´ íˆ¬ê¸°ì  - ìœ„í—˜ê´€ë¦¬ ì›ì¹™ ìœ„ë°°",
          bullets:["í˜„ê¸ˆíë¦„ ì˜ˆì¸¡ ì–´ë ¤ì›€","ì •ì±…/ê³„ì•½ ë¦¬ìŠ¤í¬"],
          checklist:["ê³ ê° ì§‘ì¤‘","ì •ì±… ë³€í™”","ìˆ˜ìµì„±","í¬íŠ¸í´ë¦¬ì˜¤ ì˜í–¥"],
          howToUse:"ë¦¬ìŠ¤í¬ ì˜ˆì‚°(ìœ„í—˜ í•œë„) ë°–ì´ë©´ ì œì™¸."
        }
      };
      return map[a.id] || { verdict:"ë¶„ì„ ì¤€ë¹„ì¤‘", bullets:["ì¶”ê°€ ë°ì´í„° í•„ìš”"], checklist:["â€”"], howToUse:"â€”" };
    },
    etf: (a) => ({
      verdict:"ğŸŸ¢ ETFëŠ” ë¶„ì‚° ë„êµ¬",
      bullets:["VOO ê°™ì€ ê´‘ë²”ìœ„ ETFë¡œ ì½”ì–´ êµ¬ì¶•","ì§‘ì¤‘ ETFëŠ” ë¹„ì¤‘ ì œí•œ","ì •ê¸° ë¦¬ë°¸ëŸ°ì‹±"],
      checklist:["ìì‚°êµ° ê· í˜•(í˜„ê¸ˆ/ì±„ê¶Œ)","í¸ì¤‘ ì—¬ë¶€","ë¦¬ë°¸ëŸ°ì‹± ê·œì¹™"],
      howToUse:"ì½”ì–´-ìœ„ì„± + ë¦¬ë°¸ëŸ°ì‹±ì´ í•µì‹¬."
    })
  }
};

/* =========================
 * ROUTER + UI
 * ========================= */
const $ = (sel, el=document)=>el.querySelector(sel);
const $$ = (sel, el=document)=>Array.from(el.querySelectorAll(sel));

function setActiveNav(){
  const hash = location.hash || "#/";
  $$("a[data-link]").forEach(a=>{
    const href=a.getAttribute("href");
    a.classList.toggle("active", hash.startsWith(href));
  });
}

function parseQuery(){
  const h = location.hash || "";
  const idx = h.indexOf("?");
  if (idx === -1) return {};
  const qs = h.slice(idx+1);
  const out = {};
  qs.split("&").forEach(kv=>{
    const [k,v]=kv.split("=");
    if(!k) return;
    out[decodeURIComponent(k)] = decodeURIComponent(v||"");
  });
  return out;
}

function imgOrPlaceholder(inv, size="small"){
  const initials = (inv.name||"?").split(" ").map(n=>n[0]).join("");
  if (size === "big"){
    return `
      <div class="investor-avatar">
        <img src="${inv.img}" alt="${inv.name}" onerror="this.remove(); this.parentElement.textContent='${initials}'">
      </div>
    `;
  }
  return `
    <div class="avatar">
      <img src="${inv.img}" alt="${inv.name}" onerror="this.remove(); this.parentElement.textContent='${initials}'">
    </div>
  `;
}

function route(){
  setActiveNav();
  const app = $("#app");
  const hashRaw = (location.hash || "#/").slice(2); // remove "#/"
  const [pathPart] = hashRaw.split("?");
  const seg = pathPart.split("/").filter(Boolean);
  const path = seg[0] || "";
  const id = seg[1];
  const sub = seg[2];

  if(!path){
    renderHome(app);
    setupHomeSimulation();   // âœ… ì—¬ê¸°ê°€ ì •ë‹µ
    return;
  }
  if (path === "investors") return id ? renderInvestor(app, id) : renderInvestors(app);
  if (path === "assets") return id ? (sub==="projection" ? renderProjection(app, id) : renderAsset(app, id)) : renderAssets(app);
  if (path === "about") return renderAbout(app);

  return renderNotFound(app);
}

/* =========================
 * HOME
 * ========================= */
function renderHome(app){
  const topAssets = ASSETS;
  app.innerHTML = `
    <section class="hero-section">
      <div class="hero-content">
        <h1 class="hero-title">íˆ¬ì ê±°ë¬¼ë“¤ì˜ ì‹œê°ìœ¼ë¡œ ë³´ëŠ”<br>ì£¼ì‹ ë¶„ì„</h1>
        <p class="hero-subtitle">
          ì›Œë Œ ë²„í•, í”¼í„° ë¦°ì¹˜, ì°°ë¦¬ ë©ê±° ë“± ì „ì„¤ì ì¸ íˆ¬ììë“¤ì´<br>
          ê°™ì€ ì¢…ëª©ì„ ì–´ë–»ê²Œ í•´ì„í•˜ëŠ”ì§€ ë¹„êµí•´ë³´ì„¸ìš”
        </p>
      </div>
    </section>



    <section class="investors-showcase" style="margin-bottom:48px">
      <div class="section-header">
        <h2>íˆ¬ì ê±°ë¬¼ë“¤ì˜ ê´€ì </h2>
        <p>í´ë¦­í•´ì„œ ê° íˆ¬ììì˜ ì² í•™ê³¼ ë¶„ì„ ë°©ì‹ì„ í™•ì¸í•˜ì„¸ìš”</p>
      </div>

      <div class="investors-grid">
        ${INVESTORS.map(inv=>`
          <a class="investor-card" href="#/investors/${inv.id}">
            ${imgOrPlaceholder(inv,"big")}
            <div class="investor-info">
              <h3>${inv.name}</h3>
              <p class="investor-quote">"${inv.quote}"</p>
              <div class="investor-summary">${inv.oneLiner}</div>
              <div class="investor-tags">
                ${inv.styleTags.map(t=>`<span class="tag">${t}</span>`).join("")}
              </div>
            </div>
            <div class="card-overlay"><span>ë¶„ì„ ë³´ê¸° â†’</span></div>
          </a>
        `).join("")}
      </div>
    </section>

    <section class="panel" style="margin-bottom:48px">
      <div class="hd">
        <div>
          <h2>ì¢…ëª© ë°”ë¡œê°€ê¸°</h2>
          <small>ê´€ì‹¬ ì¢…ëª©ì„ ì„ íƒí•´ 5ëª…ì˜ íˆ¬ìì ê´€ì ì„ í•œë²ˆì— ë¹„êµí•˜ì„¸ìš”</small>
        </div>
      </div>
      <div class="bd">
        <div class="assets-grid">
          ${topAssets.map(a=>`
            <a class="asset-card" href="#/assets/${a.id}">
              <div class="asset-header">
                <div class="asset-symbol">${a.symbol}</div>
                <span class="asset-type ${a.type}">${a.type.toUpperCase()}</span>
              </div>
              <div class="asset-name">${a.name}</div>
              <div class="asset-price">
                <span class="price">$${a.price}</span>
                <span class="change ${a.change >= 0 ? 'positive':'negative'}">
                  ${a.change >= 0 ? '+' : ''}${a.change} (${a.changePercent >= 0 ? '+' : ''}${a.changePercent}%)
                </span>
              </div>
            </a>
          `).join("")}
        </div>

        <div class="note" style="margin-top:14px">
          * í˜„ì¬ ê°€ê²©/ì§€í‘œëŠ” ìƒ˜í”Œ ë°ì´í„°ì…ë‹ˆë‹¤. ë‚˜ì¤‘ì— ì‹¤ì‹œê°„ ì—°ë™(ì˜ˆ: Cloudflare Worker/Serverless) ë¶™ì´ë©´ ìë™ ì—…ë°ì´íŠ¸ë¡œ í™•ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.
        </div>
      </div>
    </section>

    <section class="panel">
      <div class="hd">
        <h2>ğŸ’¡ ì‚¬ìš© ë°©ë²•</h2>
        <small>3ìŠ¤í…ìœ¼ë¡œ ë</small>
      </div>
      <div class="bd">
        <div class="cards">
          <div class="card">
            <div class="meta">
              <h3>1) íˆ¬ìì ì„ íƒ</h3>
              <p>ë¨¼ì € ì² í•™(ì²´í¬ë¦¬ìŠ¤íŠ¸)ì„ ì´í•´í•˜ë©´ ì¢…ëª© í•´ì„ì´ ì‰¬ì›Œì ¸ìš”.</p>
            </div>
          </div>
          <div class="card">
            <div class="meta">
              <h3>2) ì¢…ëª© ë¹„êµ</h3>
              <p>ê°™ì€ ì¢…ëª©ì„ 5ëª…ì˜ ë Œì¦ˆë¡œ ë™ì‹œì— ë¹„êµí•´ìš”.</p>
            </div>
          </div>
          <div class="card">
            <div class="meta">
              <h3>3) ìˆ˜ìµ ì‹œë®¬ë ˆì´ì…˜</h3>
              <p>ì›” ì ë¦½ ê¸°ì¤€ìœ¼ë¡œ ì¥ê¸° ë³µë¦¬ ê²°ê³¼ë¥¼ í™•ì¸í•´ìš”.</p>
            </div>
          </div>
          <div class="card">
            <div class="meta">
              <h3>+ í™•ì¥</h3>
              <p>ì¢…ëª©/íˆ¬ìì/ë Œì¦ˆëŠ” DATA ì˜ì—­ë§Œ ëŠ˜ë¦¬ë©´ ìë™ í™•ì¥ë©ë‹ˆë‹¤.</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  `;
}

/* =========================
 * INVESTORS LIST + DETAIL
 * ========================= */
function renderInvestors(app){
  app.innerHTML = `
    <section class="panel">
      <div class="hd">
        <div>
          <h2>íˆ¬ìì</h2>
          <small>ì² í•™/ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ë¨¼ì € ê³ ë¥´ë©´ ì¢…ëª© í•´ì„ì´ ì‰¬ì›Œì§</small>
        </div>
      </div>
      <div class="bd">
        <div class="cards">
          ${INVESTORS.map(inv=>`
            <a class="card" href="#/investors/${inv.id}">
              ${imgOrPlaceholder(inv)}
              <div class="meta">
                <h3>${inv.name}</h3>
                <p>${inv.oneLiner}</p>
                <div class="pillrow">
                  ${inv.styleTags.map(t=>`<span class="pill">${t}</span>`).join("")}
                </div>
              </div>
            </a>
          `).join("")}
        </div>
      </div>
    </section>
  `;
}

function renderInvestor(app, investorId){
  const inv = INVESTORS.find(x=>x.id===investorId);
  if (!inv) return renderNotFound(app);

  const stocks = ASSETS.filter(a=>a.type==="stock");
  const etfs = ASSETS.filter(a=>a.type==="etf");

  app.innerHTML = `
    <div class="row" style="margin-bottom:12px">
      <span class="crumb">íˆ¬ìì / ${inv.name}</span>
      <a class="btn" href="#/investors">â† íˆ¬ìì ëª©ë¡</a>
      <a class="btn" href="#/assets">ì¢…ëª© Â· ETF ë³´ê¸° â†’</a>
    </div>

    <section class="panel">
      <div class="hd">
        <div class="row">
          ${imgOrPlaceholder(inv)}
          <div>
            <h2 style="margin:0">${inv.name}</h2>
            <small>"${inv.quote}"</small>
            <div style="margin-top:8px;color:var(--muted)">${inv.oneLiner}</div>
          </div>
        </div>
      </div>

      <div class="bd">
        <div class="investor-layout">
          <div>
            <div class="philosophy-section">
              <h3>ğŸ’¡ ${inv.name}ì˜ íˆ¬ì ì² í•™</h3>
              <ul class="philosophy-list">
                ${(inv.philosophy||[]).map(x=>`<li>${x}</li>`).join("")}
              </ul>
            </div>

            <div id="analysisResult" class="analysis-section" style="margin-top:14px">
              <div class="analysis-placeholder">
                <div style="font-size:40px;margin-bottom:10px">ğŸ‘†</div>
                <h4 style="margin:0 0 8px;color:var(--text)">ì¢…ëª©ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h4>
                <p style="margin:0">ì˜¤ë¥¸ìª½ì—ì„œ ì¢…ëª©ì„ í´ë¦­í•˜ë©´<br>${inv.name} ê´€ì  ë¶„ì„ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
              </div>
            </div>
          </div>

          <div>
            <div class="panel" style="box-shadow:none">
              <div class="hd">
                <h2>ì¢…ëª© ì„ íƒ</h2>
                <small>${inv.name}ì˜ ê´€ì ìœ¼ë¡œ ë¶„ì„í•˜ê¸°</small>
              </div>
              <div class="bd">
                <div class="asset-tabs">
                  <button class="tab-btn active" data-type="stock">ì£¼ì‹</button>
                  <button class="tab-btn" data-type="etf">ETF</button>
                </div>

                <div class="list" style="margin-top:12px" id="assetList">
                  ${stocks.map(a=>`
                    <div class="item clickable-item" data-asset-id="${a.id}" data-type="stock">
                      <div class="left">
                        <div class="sym">${a.symbol}</div>
                        <div class="name">${a.name} Â· ${a.sector}</div>
                      </div>
                      <span class="tag">STOCK</span>
                    </div>
                  `).join("")}
                </div>

                <div class="note" style="margin-top:12px">
                  íŒ: íŠ¹ì • ì¢…ëª©ì„ ì „ì²´ ë¹„êµ í˜ì´ì§€ë¡œ ë³´ê³  ì‹¶ìœ¼ë©´ ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ë„ ë¼ìš”.
                  <div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap">
                    <a class="btn" href="#/assets/googl?focus=${inv.id}">GOOGL ë¹„êµë¡œ ì´ë™</a>
                    <a class="btn" href="#/assets/nvda?focus=${inv.id}">NVDA ë¹„êµë¡œ ì´ë™</a>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  `;

  setTimeout(()=>setupInvestorPageEvents(inv), 50);
}

function setupInvestorPageEvents(investor){
  $$(".tab-btn").forEach(btn=>{
    btn.onclick = ()=>{
      $$(".tab-btn").forEach(b=>b.classList.remove("active"));
      btn.classList.add("active");
      updateAssetList(btn.dataset.type, investor);
    };
  });

  $$(".clickable-item").forEach(item=>{
    item.onclick = ()=>{
      $$(".clickable-item").forEach(i=>i.classList.remove("selected"));
      item.classList.add("selected");
      showAssetAnalysis(item.dataset.assetId, investor);
    };
  });
}

function updateAssetList(type, investor){
  const assetList = $("#assetList");
  const assets = type==="stock" ? ASSETS.filter(a=>a.type==="stock") : ASSETS.filter(a=>a.type==="etf");
  assetList.innerHTML = assets.map(a=>`
    <div class="item clickable-item" data-asset-id="${a.id}" data-type="${type}">
      <div class="left">
        <div class="sym">${a.symbol}</div>
        <div class="name">${a.name} Â· ${a.sector}</div>
      </div>
      <span class="tag">${type.toUpperCase()}</span>
    </div>
  `).join("");

  $$(".clickable-item").forEach(item=>{
    item.onclick = ()=>{
      $$(".clickable-item").forEach(i=>i.classList.remove("selected"));
      item.classList.add("selected");
      showAssetAnalysis(item.dataset.assetId, investor);
    };
  });
}

function showAssetAnalysis(assetId, investor){
  const asset = ASSETS.find(a=>a.id===assetId);
  const analysisResult = $("#analysisResult");
  if (!asset) return;

  const fn = LENS[investor.id]?.[asset.type];
  const analysis = fn ? fn(asset) : null;

  if (!analysis){
    analysisResult.innerHTML = `
      <div class="analysis-placeholder">
        <h4 style="margin:0 0 8px">ë¶„ì„ ë°ì´í„° ì—†ìŒ</h4>
        <p style="margin:0">ì£„ì†¡í•©ë‹ˆë‹¤. ${asset.symbol}ì— ëŒ€í•œ ${investor.name}ì˜ ë¶„ì„ì´ ì•„ì§ ì¤€ë¹„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
      </div>
    `;
    return;
  }

  analysisResult.innerHTML = `
    <div class="analysis-content">
      <div class="analysis-header">
        <h3 style="margin:0">${asset.symbol} Â· ${asset.name}</h3>
        <div class="analysis-verdict">${analysis.verdict}</div>
      </div>

      <div class="analysis-body" style="margin-top:12px">
        <h4 style="margin:0 0 8px">ğŸ’¡ ${investor.name}ì˜ í•µì‹¬ ê´€ì </h4>
        <ul style="margin:0;padding-left:20px;line-height:1.6">
          ${analysis.bullets.map(x=>`<li style="margin:6px 0;color:var(--muted)">${x}</li>`).join("")}
        </ul>

        <h4 style="margin:18px 0 8px">âœ“ ì²´í¬ë¦¬ìŠ¤íŠ¸</h4>
        <ul style="margin:0;padding-left:20px;line-height:1.6">
          ${analysis.checklist.map(x=>`<li style="margin:6px 0;color:var(--muted)">${x}</li>`).join("")}
        </ul>

        <div style="margin-top:18px;padding:14px;background:rgba(255,255,255,0.05);border-radius:var(--radius);border-left:4px solid var(--brand-solid)">
          <h5 style="margin:0 0 8px;color:var(--brand-solid)">ğŸ’¡ í™œìš©ë²•</h5>
          <p style="margin:0;color:var(--muted);line-height:1.5">${analysis.howToUse}</p>
        </div>

        <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
          <a href="#/assets/${assetId}?focus=${investor.id}" class="btn">ì „ì²´ ë¹„êµ ë³´ê¸°</a>
          <a href="#/assets/${assetId}/projection" class="btn">ğŸ“Š ìˆ˜ìµ ì‹œë®¬ë ˆì´ì…˜</a>
        </div>
      </div>
    </div>
  `;
}

/* =========================
 * ASSETS LIST + DETAIL
 * ========================= */
function renderAssets(app){
  app.innerHTML = `
    <section class="panel">
      <div class="hd">
        <div>
          <h2>ì¢…ëª© Â· ETF</h2>
          <small>ê²€ìƒ‰ + (ì£¼ì‹/ETF) í•„í„° í›„ í´ë¦­</small>
        </div>
      </div>
      <div class="bd">
        <div class="row" style="margin-bottom:12px">
          <div class="search">ğŸ” <input id="q" placeholder="ì˜ˆ: NVDA, SMH, QQQM, Tesla..." /></div>
          <div class="seg" role="tablist" aria-label="í•„í„°">
            <button id="fAll" class="active" type="button">ì „ì²´</button>
            <button id="fStock" type="button">ì£¼ì‹</button>
            <button id="fEtf" type="button">ETF</button>
          </div>
        </div>
        <div id="assetList" class="list"></div>
      </div>
    </section>
  `;

  const q = $("#q");
  const list = $("#assetList");
  let filter = "all";

  const render = ()=>{
    const term = (q.value||"").trim().toLowerCase();
    let items = ASSETS.slice();
    if (filter==="stock") items = items.filter(x=>x.type==="stock");
    if (filter==="etf") items = items.filter(x=>x.type==="etf");
    if (term){
      items = items.filter(x=>
        (x.symbol||"").toLowerCase().includes(term) ||
        (x.name||"").toLowerCase().includes(term) ||
        (x.sector||"").toLowerCase().includes(term)
      );
    }
    list.innerHTML = items.map(a=> `
      <a class="assetItem" href="#/assets/${a.id}">
        <div class="assetLeft">
          <div class="assetMark">${(a.symbol||"?").slice(0,2)}</div>
          <div class="assetText">
            <div class="assetTopRow">
              <div class="assetSym">${a.symbol}</div>
              <span class="badge ${a.type}">${a.type.toUpperCase()}</span>
              <div class="assetName">${a.name} Â· ${a.sector || ""}</div>
            </div>
            <div class="assetMeta">
              <div class="assetWhy">${a.why || "-"}</div>
            </div>
          </div>
        </div>

        <div class="assetRight">
          <div class="assetPriceBox">
            <div class="assetPrice">$${Number(a.price).toFixed(2)}</div>
            <div class="assetChg ${a.change >= 0 ? "positive" : "negative"}">
              <span>${a.change >= 0 ? "+" : ""}${a.change}</span>
              <span>(${a.changePercent >= 0 ? "+" : ""}${a.changePercent}%)</span>
            </div>
          </div>
          <div class="assetGo">â†’</div>
        </div>
      </a>
    `).join("") || `<div class="note">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ì–´. ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ í•´ë´.</div>`;

  };

  const setFilter = (f)=>{
    filter = f;
    $("#fAll").classList.toggle("active", f==="all");
    $("#fStock").classList.toggle("active", f==="stock");
    $("#fEtf").classList.toggle("active", f==="etf");
    render();
  };

  $("#fAll").onclick = ()=>setFilter("all");
  $("#fStock").onclick = ()=>setFilter("stock");
  $("#fEtf").onclick = ()=>setFilter("etf");
  q.oninput = render;

  render();
}

function renderAsset(app, assetId){
  const a = ASSETS.find(x=>x.id===assetId);
  if (!a) return renderNotFound(app);

  const q = parseQuery();
  const focusInvestor = q.focus && INVESTORS.some(x=>x.id===q.focus) ? q.focus : null;

  const lensBlocks = INVESTORS.map(inv=>{
    const fn = LENS[inv.id]?.[a.type];
    const view = fn ? fn(a) : null;
    if (!view) return "";
    const isFocus = focusInvestor ? inv.id===focusInvestor : false;

    return `
      <div class="compactPanel" style="border-color:${isFocus ? "rgba(122,162,255,.55)" : "var(--border)"}">
        <div class="investorMini">
          ${imgOrPlaceholder(inv)}
          <div>
            <h3>${inv.name}</h3>
            <div class="verdict">${view.verdict}</div>
          </div>
        </div>

        <h4 style="margin:8px 0 4px;font-size:12px">ğŸ’¡ í•µì‹¬ ê´€ì </h4>
        <ul class="bullets">
          ${view.bullets.slice(0,3).map(x=>`<li>${x}</li>`).join("")}
        </ul>

        <details style="margin-top:8px">
          <summary style="font-size:11px;color:var(--muted);cursor:pointer">ì²´í¬ë¦¬ìŠ¤íŠ¸ ë³´ê¸°</summary>
          <ul class="bullets" style="margin-top:6px">
            ${view.checklist.slice(0,4).map(x=>`<li>${x}</li>`).join("")}
          </ul>
        </details>

        <div style="margin-top:10px">
          <div class="note" style="border-style:solid;border-color:rgba(102,126,234,0.2);background:rgba(102,126,234,0.05)">
            <b>í™œìš©ë²•:</b> ${view.howToUse}
          </div>
        </div>
      </div>
    `;
  }).join("");

  const isStock = a.type === "stock";

  app.innerHTML = `
    <div class="row" style="margin-bottom:12px">
      <span class="crumb">ì¢…ëª© Â· ETF / ${a.symbol}</span>
      <a class="btn" href="#/assets">â† ëª©ë¡</a>
      <a class="btn" href="#/assets/${a.id}/projection">ğŸ“Š ìˆ˜ìµ ì‹œë®¬ë ˆì´ì…˜</a>
      <a class="btn" href="#/investors">íˆ¬ììë³„ ë³´ê¸° â†’</a>
    </div>

    <div class="stockHeader">
      <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:16px;flex-wrap:wrap">
        <div>
          <h1 style="margin:0;font-size:24px">${a.symbol}</h1>
          <h2 style="margin:4px 0 0;font-size:16px;color:var(--muted)">${a.name}</h2>
          <p style="margin:8px 0 0;color:var(--muted);font-size:13px">${a.description}</p>
        </div>
        <span class="tag" style="font-size:12px;align-self:flex-start">${a.type.toUpperCase()}</span>
      </div>

      <div class="priceRow">
        <div class="mainPrice">$${a.price}</div>
        <div class="priceChange ${a.change >= 0 ? 'positive':'negative'}">
          ${a.change >= 0 ? '+' : ''}${a.change} (${a.changePercent >= 0 ? '+' : ''}${a.changePercent}%)
        </div>
      </div>

      <div class="metrics">
        ${isStock ? `
          <div class="metric"><div class="value">$${a.marketCap}</div><div class="label">ì‹œê°€ì´ì•¡</div></div>
          <div class="metric"><div class="value">${a.peRatio}</div><div class="label">P/E</div></div>
          <div class="metric"><div class="value">$${a.revenue}</div><div class="label">ë§¤ì¶œ</div></div>
          <div class="metric"><div class="value">$${a.netIncome}</div><div class="label">ìˆœì´ìµ</div></div>
          <div class="metric"><div class="value">$${a.eps}</div><div class="label">EPS</div></div>
          <div class="metric"><div class="value">${a.beta}</div><div class="label">ë² íƒ€</div></div>
        ` : `
          <div class="metric"><div class="value">${a.expenseRatio}</div><div class="label">ë³´ìˆ˜</div></div>
          <div class="metric"><div class="value">$${a.aum}</div><div class="label">ìš´ìš©ìì‚°</div></div>
          <div class="metric"><div class="value">${a.dividend}</div><div class="label">ë°°ë‹¹ìˆ˜ìµë¥ </div></div>
          <div class="metric"><div class="value">${a.inception}</div><div class="label">ì„¤ì •ì—°ë„</div></div>
        `}
      </div>

      ${isStock && a.lastUpdated ? `
        <div style="margin-top:10px">
          <small style="color:var(--muted);font-size:11px">ğŸ“Œ ${a.lastUpdated} | ì¶œì²˜: ${a.dataSource}</small>
        </div>
      ` : ``}
    </div>

    <section class="panel">
      <div class="hd">
        <h2>ğŸ“ˆ íˆ¬ììë³„ ë¶„ì„</h2>
        <small>ê°™ì€ ìì‚°ì„ ë‹¤ë¥¸ ë Œì¦ˆë¡œ ë¹„êµ ${focusInvestor ? ` Â· <b>${INVESTORS.find(x=>x.id===focusInvestor)?.name}</b> ê°•ì¡°ì¤‘` : ""}</small>
      </div>
      <div class="bd">
        <div class="grid" style="grid-template-columns:1fr">
          <div class="cards" style="grid-template-columns:repeat(2,minmax(0,1fr))">
            ${lensBlocks}
          </div>
        </div>
      </div>
    </section>
  `;
}

/* =========================
 * PROJECTION (DCA)
 * ========================= */
const PROJECTION_YEARS = [10,20,30,40,50];

function getAssetScenarios(assetId){
  const map = {
    nvda: [
      { name:"ë³´ìˆ˜ì ", growth:0.12, label:"ì—° 12% ìˆ˜ìµ" },
      { name:"ë³´í†µ", growth:0.18, label:"ì—° 18% ìˆ˜ìµ" },
      { name:"ë‚™ê´€ì ", growth:0.25, label:"ì—° 25% ìˆ˜ìµ" }
    ],
    tsla: [
      { name:"ë³´ìˆ˜ì ", growth:0.10, label:"ì—° 10% ìˆ˜ìµ" },
      { name:"ë³´í†µ", growth:0.16, label:"ì—° 16% ìˆ˜ìµ" },
      { name:"ë‚™ê´€ì ", growth:0.22, label:"ì—° 22% ìˆ˜ìµ" }
    ],
    pltr: [
      { name:"ë³´ìˆ˜ì ", growth:0.08, label:"ì—° 8% ìˆ˜ìµ" },
      { name:"ë³´í†µ", growth:0.15, label:"ì—° 15% ìˆ˜ìµ" },
      { name:"ë‚™ê´€ì ", growth:0.20, label:"ì—° 20% ìˆ˜ìµ" }
    ],
    googl: [
      { name:"ë³´ìˆ˜ì ", growth:0.08, label:"ì—° 8% ìˆ˜ìµ" },
      { name:"ë³´í†µ", growth:0.12, label:"ì—° 12% ìˆ˜ìµ" },
      { name:"ë‚™ê´€ì ", growth:0.16, label:"ì—° 16% ìˆ˜ìµ" }
    ],
    qqqm: [
      { name:"ë³´ìˆ˜ì ", growth:0.08, label:"ì—° 8% ìˆ˜ìµ" },
      { name:"ë³´í†µ", growth:0.11, label:"ì—° 11% ìˆ˜ìµ" },
      { name:"ë‚™ê´€ì ", growth:0.14, label:"ì—° 14% ìˆ˜ìµ" }
    ],
    smh: [
      { name:"ë³´ìˆ˜ì ", growth:0.09, label:"ì—° 9% ìˆ˜ìµ" },
      { name:"ë³´í†µ", growth:0.13, label:"ì—° 13% ìˆ˜ìµ" },
      { name:"ë‚™ê´€ì ", growth:0.17, label:"ì—° 17% ìˆ˜ìµ" }
    ],
    voo: [
      { name:"ë³´ìˆ˜ì ", growth:0.07, label:"ì—° 7% ìˆ˜ìµ" },
      { name:"ë³´í†µ", growth:0.10, label:"ì—° 10% ìˆ˜ìµ" },
      { name:"ë‚™ê´€ì ", growth:0.13, label:"ì—° 13% ìˆ˜ìµ" }
    ]
  };
  return map[assetId] || [
    { name:"ë³´ìˆ˜ì ", growth:0.07, label:"ì—° 7% ìˆ˜ìµ" },
    { name:"ë³´í†µ", growth:0.10, label:"ì—° 10% ìˆ˜ìµ" },
    { name:"ë‚™ê´€ì ", growth:0.15, label:"ì—° 15% ìˆ˜ìµ" }
  ];
}

function renderProjection(app, assetId){
  const a = ASSETS.find(x=>x.id===assetId);
  if (!a) return renderNotFound(app);

  const scenarios = getAssetScenarios(assetId);

  app.innerHTML = `
    <div class="row" style="margin-bottom:12px">
      <span class="crumb">ì¢…ëª© Â· ETF / ${a.symbol} / ìˆ˜ìµ ì‹œë®¬ë ˆì´ì…˜</span>
      <a class="btn" href="#/assets/${a.id}">â† ${a.symbol} ë¶„ì„</a>
      <a class="btn" href="#/assets">ëª©ë¡ìœ¼ë¡œ</a>
    </div>

    <section class="panel">
      <div class="hd">
        <h2>ğŸ“Š ${a.symbol} ì¥ê¸° ìˆ˜ìµ ì‹œë®¬ë ˆì´ì…˜</h2>
        <small>í˜„ì¬ê°€ $${a.price} ê¸°ì¤€ Â· ì ë¦½ì‹(DCA) ë³µë¦¬ ê³„ì‚°</small>
      </div>

      <div class="bd">
        <div class="note" style="margin-bottom:16px">
          ğŸ’¡ <b>ê°€ì •:</b> ë§¤ì›” ì¼ì • ê¸ˆì•¡ì„ ì ë¦½ì‹ìœ¼ë¡œ íˆ¬ì(DCA). ì‹¤ì œ ìˆ˜ìµë¥ ì€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆì–´ìš”.
        </div>

        <div class="row" style="margin-bottom:16px">
          <div class="search" style="max-width:220px">
            ğŸ’° <input id="monthlyAmount" type="number" value="1000" min="100" step="100" style="text-align:right" />
          </div>
          <div class="seg">
            <button class="scenario-btn active" data-i="0">${scenarios[0].name} ${Math.round(scenarios[0].growth*100)}%</button>
            <button class="scenario-btn" data-i="1">${scenarios[1].name} ${Math.round(scenarios[1].growth*100)}%</button>
            <button class="scenario-btn" data-i="2">${scenarios[2].name} ${Math.round(scenarios[2].growth*100)}%</button>
          </div>
        </div>

        <div id="projectionResults"></div>

        <canvas id="projectionChart" width="800" height="220"
          style="margin-top:16px;width:100%;height:220px;max-height:220px;border:1px solid var(--border);border-radius:10px;"></canvas>

        <div class="note" style="margin-top:16px">
          <b>í•´ì„ íŒ</b><br/>
          - ê°™ì€ ì„±ì¥ë¥ ì´ë¼ë„ <b>ê¸°ê°„</b>ì´ ê¸¸ìˆ˜ë¡ ë³µë¦¬ íš¨ê³¼ê°€ ì»¤ì ¸ìš”.<br/>
          - ê³ ì„±ì¥ ì‹œë‚˜ë¦¬ì˜¤ëŠ” ë³€ë™ì„±ì´ í¬ë¯€ë¡œ <b>ì‹¬ë¦¬/ë¹„ì¤‘</b>ì´ ì„±íŒ¨ë¥¼ ê°ˆë¼ìš”.
        </div>
      </div>
    </section>
  `;

  let currentScenario = 0;

  function updateProjection(){
    const monthlyAmount = parseFloat($("#monthlyAmount").value) || 1000;
    const scenario = scenarios[currentScenario];
    const monthlyRate = scenario.growth / 12;

    const results = PROJECTION_YEARS.map(years=>{
      const months = years * 12;
      const futureValue = monthlyAmount * (((1 + monthlyRate) ** months - 1) / monthlyRate);
      const totalInvested = monthlyAmount * months;
      const profit = futureValue - totalInvested;
      const multiple = futureValue / totalInvested;
      return { years, futureValue, totalInvested, profit, multiple };
    });

    $("#projectionResults").innerHTML = `
      <div style="margin-bottom:12px">
        <h3 style="margin:0;font-size:14px">ğŸ“ˆ ${scenario.name} ì‹œë‚˜ë¦¬ì˜¤ (${scenario.label})</h3>
        <small style="color:var(--muted)">ì›” $${monthlyAmount.toLocaleString()} ì ë¦½ ê¸°ì¤€</small>
      </div>

      <div style="display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(160px,1fr))">
        ${results.map(r=>`
          <div class="panel" style="box-shadow:none;padding:12px;text-align:center">
            <div style="font-size:18px;font-weight:900;color:var(--ok)">${r.years}ë…„</div>
            <div style="margin:8px 0">
              <div style="font-size:18px;font-weight:900">$${Math.round(r.futureValue).toLocaleString()}</div>
              <div style="font-size:11px;color:var(--muted)">ì´ ìì‚°</div>
            </div>
            <div style="margin:4px 0;font-size:12px">
              <div style="color:var(--ok);font-weight:900">+$${Math.round(r.profit).toLocaleString()}</div>
              <div style="color:var(--muted)">ìˆ˜ìµ (${r.multiple.toFixed(1)}ë°°)</div>
            </div>
            <div style="font-size:10px;color:var(--muted);margin-top:4px">
              íˆ¬ìì›ê¸ˆ: $${r.totalInvested.toLocaleString()}
            </div>
          </div>
        `).join("")}
      </div>
    `;

    drawChart(results);
  }

  function drawChart(results){
    const canvas = $("#projectionChart");
    if (!canvas) return;
    const ctx = canvas.getContext("2d");
    const rect = canvas.getBoundingClientRect();
    const dpr = window.devicePixelRatio || 1;
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    ctx.setTransform(dpr,0,0,dpr,0,0);

    const w = rect.width, h = rect.height;
    const pad = 44;

    ctx.clearRect(0,0,w,h);

    // grid
    ctx.strokeStyle = "rgba(255,255,255,0.10)";
    ctx.lineWidth = 1;
    for(let i=0;i<=5;i++){
      const y = pad + (h-pad*2)*i/5;
      ctx.beginPath(); ctx.moveTo(pad,y); ctx.lineTo(w-pad,y); ctx.stroke();
    }

    const maxV = Math.max(...results.map(r=>r.futureValue));
    const minV = 0;

    function toXY(i, value){
      const x = pad + (w-pad*2) * (i/(results.length-1));
      const y = h - pad - (h-pad*2) * ((value-minV)/(maxV-minV));
      return {x,y};
    }

    // invested line
    ctx.strokeStyle = "rgba(184,197,230,0.65)";
    ctx.lineWidth = 2;
    ctx.beginPath();
    results.forEach((r,i)=>{
      const p = toXY(i, r.totalInvested);
      if(i===0) ctx.moveTo(p.x,p.y); else ctx.lineTo(p.x,p.y);
    });
    ctx.stroke();

    // future value line
    ctx.strokeStyle = "rgba(16,185,129,0.95)";
    ctx.lineWidth = 3;
    ctx.beginPath();
    results.forEach((r,i)=>{
      const p = toXY(i, r.futureValue);
      if(i===0) ctx.moveTo(p.x,p.y); else ctx.lineTo(p.x,p.y);
    });
    ctx.stroke();

    // points + labels
    ctx.fillStyle = "rgba(16,185,129,0.95)";
    results.forEach((r,i)=>{
      const p = toXY(i, r.futureValue);
      ctx.beginPath(); ctx.arc(p.x,p.y,4,0,Math.PI*2); ctx.fill();
    });

    ctx.fillStyle = "rgba(184,197,230,0.95)";
    ctx.font = "11px ui-sans-serif, system-ui, sans-serif";
    ctx.textAlign = "center";
    results.forEach((r,i)=>{
      const x = pad + (w-pad*2) * (i/(results.length-1));
      ctx.fillText(r.years + "ë…„", x, h-10);
    });
  }

  // event
  $("#monthlyAmount").oninput = updateProjection;
  $$(".scenario-btn").forEach(btn=>{
    btn.onclick = (e)=>{
      e.preventDefault();
      $$(".scenario-btn").forEach(b=>b.classList.remove("active"));
      btn.classList.add("active");
      currentScenario = parseInt(btn.dataset.i,10);
      updateProjection();
    };
  });

  updateProjection();
}

/* =========================
 * ABOUT / 404
 * ========================= */
function renderAbout(app){
  app.innerHTML = `
    <section class="panel">
      <div class="hd">
        <h2>About Investor Lens</h2>
        <small>íˆ¬ì ê±°ë¬¼ë“¤ì˜ ë Œì¦ˆë¡œ ì„¸ìƒì„ ë³´ëŠ” ê°œì¸ ìœ„í‚¤</small>
      </div>
      <div class="bd">
        <div class="note">
          <h3 style="margin:0 0 12px;font-size:14px">ëª©ì </h3>
          ê°™ì€ ìì‚°ë„ íˆ¬ììë§ˆë‹¤ ë³´ëŠ” ê´€ì ì´ ì™„ì „íˆ ë‹¬ë¼ìš”.<br/>
          ì´ ì‚¬ì´íŠ¸ëŠ” ê·¸ ì°¨ì´ë¥¼ <b>ì²´ê³„ì ìœ¼ë¡œ ë¹„êµ</b>í•  ìˆ˜ ìˆê²Œ ì •ë¦¬í•´ë‘” ê°œì¸ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.
        </div>

        <div class="note" style="margin-top:12px">
          <h3 style="margin:0 0 12px;font-size:14px">í™•ì¥ ë°©ë²•</h3>
          <ol style="margin:0;padding-left:18px;line-height:1.7">
            <li><b>INVESTORS</b>ì— íˆ¬ìì ì¶”ê°€</li>
            <li><b>ASSETS</b>ì— ì¢…ëª©/ETF ì¶”ê°€</li>
            <li><b>LENS</b>ì— íˆ¬ììÃ—ìì‚° ë¶„ì„ í…œí”Œë¦¿ ì¶”ê°€</li>
          </ol>
        </div>

        <div class="note" style="margin-top:12px">
          <h3 style="margin:0 0 12px;font-size:14px">ì£¼ì˜</h3>
          ë³¸ ì‚¬ì´íŠ¸ëŠ” íˆ¬ì ì¡°ì–¸ì´ ì•„ë‹ˆë¼ í•™ìŠµ/ì •ë¦¬ ëª©ì ì…ë‹ˆë‹¤.
        </div>
      </div>
    </section>
  `;
}

function renderNotFound(app){
  app.innerHTML = `
    <section class="panel">
      <div class="hd"><h2>404 - í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ</h2></div>
      <div class="bd">
        <div class="note">
          ìš”ì²­í•œ í˜ì´ì§€ê°€ ì—†ì–´. <a href="#/" style="color:#cfd8ff;text-decoration:underline">í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
        </div>
      </div>
    </section>
  `;
}

/* =========================
 * INIT
 * ========================= */
window.addEventListener("hashchange", route);
window.addEventListener("load", ()=>{
  $("#year").textContent = new Date().getFullYear();
  route();
});
function setupHomeSimulation(){
  // ì´ˆê¸° ì„ íƒ
  const sel = $("#homeAssetSelect");
  if (sel) {
    sel.value = homeCurrentAsset || "nvda";
    sel.onchange = () => {
      homeCurrentAsset = sel.value;
      homeCurrentScenario = 0;
      setSegActive(0);
      updateHomeProjection();
    };
  }

  const input = $("#homeMonthlyAmount");
  if (input) input.oninput = updateHomeProjection;

  $("#homeScenario0").onclick = () => { homeCurrentScenario=0; setSegActive(0); updateHomeProjection(); };
  $("#homeScenario1").onclick = () => { homeCurrentScenario=1; setSegActive(1); updateHomeProjection(); };
  $("#homeScenario2").onclick = () => { homeCurrentScenario=2; setSegActive(2); updateHomeProjection(); };

  updateHomeProjection();
}

function setSegActive(i){
  ["homeScenario0","homeScenario1","homeScenario2"].forEach((id, idx)=>{
    const el = $("#"+id);
    if (el) el.classList.toggle("active", idx===i);
  });
}


</script>
</body>
</html>
